<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"AppSeriesDirective.js.html":{"id":"AppSeriesDirective.js.html","title":"Source: AppSeriesDirective.js","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Source: AppSeriesDirective.js /** * Defines the app-series directive that may be used inside of a SVG to * set certain SVG attributes dynamically based on series values. The * app-series directive needs to be applied to a SVG node as an attribute in * the form * app-series=&quot;&amp;#123;property1: seriesId1, property2: seriesId2, ...&amp;#125;&quot; * where propertyN is a property you want to control dynamically and seriesIdN * is a series id you want to use in order to configure that property. * @module AppSeriesDirective * @exports AppSeriesDirective */ define([], function() { /** * General purpose &quot;series manipulator&quot;. Each property-series pairing defined * by an app-series directive will have a manipulator associated on the DOM * element. The manipulator is responsible for receiving a series value and * modifying the DOM element accordingly * @abstract * @constructor * @param headElement the DOM element the manipulator has to control * @param property the property of the DOM element that this manipulator * controls */ AppSeriesManipulator = function(headElement, property) { this.headElement = headElement; this.property = property; // memorize defaults so we can always go back to them this.retrieveDefaults(); }; /** * Factory method to create a specific manipulator based on the property * @static * @param headElement the DOM element the manipulator has to control * @param property the property of the DOM element that this manipulator * controls */ AppSeriesManipulator.create = function(headElement, property) { switch (property) { case &quot;text&quot;: return new AppSeriesTextManipulator(headElement); case &quot;height&quot;: case &quot;width&quot;: return new AppSeriesDimensionManipulator(headElement, property); case &quot;fill&quot;: return new AppSeriesColorManipulator(headElement, property); case &quot;show&quot;: return new AppSeriesClassManipulator(headElement, &quot;show&quot;); } }; /** * Manipulates a text content of a SVG DOM node based on the series value * it receives. * @constructor * @extends module:AppSeriesDirective~AppSeriesManipulator * @param headElement the DOM element the manipulator has to control */ AppSeriesTextManipulator = function(headElement) { AppSeriesManipulator.call(this, headElement, &quot;text&quot;); }; AppSeriesTextManipulator.prototype = Object.create(AppSeriesManipulator.prototype); /** * Retrieve the default text content. */ AppSeriesTextManipulator.prototype.retrieveDefaults = function() { this.defaultText = this.headElement.children().first()[0].textContent; }; /** * Sets the text content to numerical value based on a series value * @param seriesValue the seriesValue, if undefined, resets value to * unmanipulated default value * @param highlight whether the series associated with the series value is * currently highlighted */ AppSeriesTextManipulator.prototype.setFromSeriesValue = function(seriesValue, highlight) { var value; if (seriesValue === undefined) value = this.defaultText; else value = Math.round(seriesValue.y*10)/10.0; this.headElement.children().first()[0].textContent = value; }; /** * Manipulates a dimension (width, height...) of a SVG DOM node based on the * series value it receives. Note, that the dimension will be assigned from * the series value &quot;as-is&quot; without any scaling etc., so you have to figure * out how to apply some SVG transform, scaling or SVG's viewbox attribute. * @constructor * @extends module:AppSeriesDirective~AppSeriesManipulator * @param headElement the DOM element the manipulator has to control * @param property the property of the DOM element that this manipulator * controls; must be an attribute of the DOM element */ AppSeriesDimensionManipulator = function(headElement, property) { AppSeriesManipulator.call(this, headElement, property); }; AppSeriesDimensionManipulator.prototype = Object.create(AppSeriesManipulator.prototype); /** * Retrieve the default element's dimension. */ AppSeriesDimensionManipulator.prototype.retrieveDefaults = function() { this.defaultValue = this.headElement[0].getAttribute(self.property); }; /** * Sets the dimension of the manipulated DOM element based on the y value of * the series value * @param seriesValue the seriesValue, if undefined, resets value to * unmanipulated default value * @param highlight whether the series associated with the series value is * currently highlighted */ AppSeriesDimensionManipulator.prototype.setFromSeriesValue = function(seriesValue, highlight) { if (seriesValue === undefined) value = this.defaultValue; else value = seriesValue.y; this.headElement[0].setAttribute(this.property, value); }; /** * Manipulates a color (fill, stroke...) of a SVG DOM node based on the * series value it receives. The value will be drawn from the d.color value. * The property must be inside of the DOM's &quot;style....&quot; namespace * @constructor * @extends module:AppSeriesDirective~AppSeriesManipulator * @param headElement the DOM element the manipulator has to control * @param property the property of the DOM element that this manipulator * controls; must be an attribute of the DOM element */ AppSeriesColorManipulator = function(headElement, property) { AppSeriesManipulator.call(this, headElement, property); }; AppSeriesColorManipulator.prototype = Object.create(AppSeriesManipulator.prototype); /** * Retrieve the default element's color. */ AppSeriesColorManipulator.prototype.retrieveDefaults = function() { this.defaultColor = this.headElement[0].style[self.property]; }; /** * Sets the color of the manipulated DOM element based on the color value of * the series value * @param seriesValue the seriesValue, if undefined, resets value to * unmanipulated default value * @param highlight whether the series associated with the series value is * currently highlighted */ AppSeriesColorManipulator.prototype.setFromSeriesValue = function(seriesValue, highlight) { if (seriesValue === undefined) value = this.defaultColor; else value = seriesValue.colorVal; this.headElement[0].style[this.property] = value; }; /** * Manipulates the CSS class of a SVG DOM node based on whether it receives * values from the specified series and depending on whether it this series * is highlighted or a not. * @constructor * @extends module:AppSeriesDirective~AppSeriesManipulator * @param headElement the DOM element the manipulator has to control * @param className the class name with suffix &quot;-yes&quot; or &quot;-no&quot; to apply to * the element based on whether the element currently receives data from * the series it is assigned to. */ AppSeriesClassManipulator = function(headElement, className) { this.className = className; AppSeriesManipulator.call(this, headElement, &quot;&quot;); }; AppSeriesClassManipulator.prototype = Object.create(AppSeriesClassManipulator.prototype); /** * Empty for this subclass. * @function AppSeriesClassManipulator.prototype.retrieveDefaults */ AppSeriesClassManipulator.prototype.retrieveDefaults = function() { }; /** * Sets the CSS classes of the SVG DOM node based on whether the DOM node * currently receives values from the configured series and based on whether * this series is currently highlighted. * @param seriesValue the seriesValue, if undefined, resets value to * unmanipulated default value * @param highlight whether the series associated with the series value is * currently highlighted */ AppSeriesClassManipulator.prototype.setFromSeriesValue = function(seriesValue, highlight) { // set the class based on whether we receive valid values if (seriesValue) { $(this.headElement).addClass(this.className + &quot;-yes&quot;); $(this.headElement).removeClass(this.className + &quot;-no&quot;); } else { $(this.headElement).removeClass(this.className + &quot;-yes&quot;); $(this.headElement).addClass(this.className + &quot;-no&quot;); } // set the class based on whether this series is currently highlighted if (highlight) { $(this.headElement).addClass(&quot;highlight-yes&quot;); $(this.headElement).removeClass(&quot;highlight-no&quot;); } else { $(this.headElement).removeClass(&quot;highlight-yes&quot;); $(this.headElement).addClass(&quot;highlight-no&quot;); } }; /** * The controller governing the directive's state and it's interaction with * the outside world. * @constructor * @param $scope a reference to the angularjs scope of the component * @param $element a reference to the element the component is assigned to */ AppSeriesController = function($scope, $element) { }; /** * Factory to create the controller; used as the .controller member of the * directive. * @static * @param $scope a reference to the angularjs scope of the component * @param $element a reference to the element the component is assigned to */ AppSeriesController.factory = function($scope, $element) { return new AppSeriesController($scope, $element); }; /** * Setup all manipulators based on the directive's value * @param $element a reference to the DOM head element the component is * assigned to */ AppSeriesController.prototype.setupManipulators = function(headElement) { propertiesToSerieses = this.seriesExpr(); this.seriesesToManipulators = {}; for (property in propertiesToSerieses) { seriesId = propertiesToSerieses[property]; manipulator = AppSeriesManipulator.create(headElement, property); this.seriesesToManipulators[seriesId] = manipulator; } }; /** * Returns a callback to be invoked every time the populated serieses values * was changed. The callback will accept two arguments: $event, representing * the associated angularjs event which is broadcasted from the parent scope * every time the serieses values changed and seriesValues, representing the * new serieses values that were populated. */ AppSeriesController.prototype.invokeManipulatorsHandler = function() { var self = this; return function($event, seriesValues) { // currently highlighted series can be obtained from parent controller highlightedSeriesId = self.schematics.getHighlightedSerId(); // for every populated series value, invoke the associated manipulator for (seriesId in self.seriesesToManipulators) { manipulator = self.seriesesToManipulators[seriesId]; manipulator.setFromSeriesValue(seriesValues[seriesId], seriesId == highlightedSeriesId); } }; }; /** * The app-series directive used to decorate a SVG element to be modified if * new data series values are populated from the parent scope. The directive * can be applied to a SVG DOM element as attribute and takes a JSON object * in the form of &amp;#123;property1: seriesId1, property2: seriesId2, ...&amp;#125; * where propertyN is a property you want to control dynamically and seriesIdN * is a series id you want to use in order to configure that property. For * propertyN, there are various properties you can control, e.g., 'fill' * controls the filling color, 'text' controls the text inside of the element, * 'show' shows/hides the element based on whether values are present or not. * @constructor */ AppSeriesDirective = function() { this.require = [&quot;^^appSchematics&quot;], this.transclude = true, this.restrict = &quot;A&quot;, this.scope = true, this.controllerAs = &quot;appSeries&quot;; this.bindToController = { seriesExpr: &quot;&amp;appSeries&quot; // binding the attribute value }; this.controller = [&quot;$scope&quot;, &quot;$element&quot;, AppSeriesController.factory]; }; /** * Factory to create the directive; used in the angular.directive call * @static */ AppSeriesDirective.factory = function() { return new AppSeriesDirective(); }; /** * The directives 'link' function is invoked every time the directive is * bound to a DOM element. It makes sure that the directive still silently * transcludes the inner elements of the head DOM element, passes through the * angular.js scope and registers for any broadcasted seriesesValueChanged * event. */ AppSeriesDirective.prototype.link = function( $scope, $element, $attrs, $controllers, $transclude ) { // transclude child elements, but don't create a child scope for them; // this allows nesting of app-series directives, all reacting to the same // seriesesValuesChanged events. $transclude($scope, function(clone) { $element.empty(); $element.append(clone); }); // save the app-schematics controller to the scope; this lets us invoke // functions from the app-schematics controller API $scope.appSeries.schematics = $controllers[0]; // create all manipulator objects based on the directives argument $scope.appSeries.setupManipulators($element); // react to any &quot;seriesesValuesChanged&quot; events populated from parent scope // (that is, the app-schematics controller) $scope.$on(&quot;seriesesValuesChanged&quot;, $scope.appSeries.invokeManipulatorsHandler()); }; return AppSeriesDirective; }); × Search results Close "},"AppChart.js.html":{"id":"AppChart.js.html","title":"Source: AppChart.js","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Source: AppChart.js /** * A module to represent a chart drawn by d3.js into a DOM container which can * have some data bound to it and some interactivity applied to it. * @module AppChart * @exports AppChart */ define([&quot;d3&quot;, &quot;resizeSensor&quot;], function() { /** * An abstract class to hold the specific algorighms to draw a chart. * These are different for point charts, line charts etc. * Supply the basic chart object as parameter. * @constructor * @abstract * @param chart the basic chart object this strategy belongs to */ AppGraphStrategy = function(chart) { this.chart = chart; }; /** * Creates a new instance of a chart factory, the parameter graphType * specifies which subtype to create * @static * @param chart the basic chart object this graph strategy belongs to * @param graphType the type of graph; supported is: &quot;line&quot; or &quot;scatter&quot; */ AppGraphStrategy.factory = function(chart, graphType) { switch (graphType) { case &quot;line&quot;: return new AppLineGraph(chart); case &quot;scatter&quot;: return new AppScatterGraph(chart); } }; /** * from a series of values in the chart, gets the point which is closest * to some coordinate &quot;x&quot;. how to access the coordinate in the series of * values supplied to the function is specified by an additional accessor * function that is applied to each value of the series. * @param seriesValues an array of values representing the series to analyze * @param x the value to find the closest point to * @param accessor the accessor function to apply to each seriesValue to get * the equivalent of &quot;x&quot; */ AppGraphStrategy.prototype.getNearest = function(seriesValues, x, accessor) { // closest value is found by bisection into values larger and smaller // than &quot;x&quot;, then we take the &quot;middle&quot; of the bisection seriesValues.sort(function(a, b) { return accessor(a) - accessor(b); }); var bisect = d3.bisector(function(d) { return accessor(d); }).left, i = bisect(seriesValues, x, 1), d0 = seriesValues[i - 1], // middle (left if odd number of elements) d1 = seriesValues[i], // middle (right if odd nummer of elements) d = (d1 === undefined ? d0 : // edge case: only 1 element (x-accessor(d0) &gt; accessor(d1)-x ? d1 : d0)); return d; }; /** * method for drawing a number of markers to the chart. A marker is a * highlight of a datapoint on the graph canvas with a label of coordinates. * The method delegates back to the base charts drawMarkers(...) function. * @param seriesesNode the DOM node where all the data serieses are attached * with their respective &quot;marker&quot; property via d3's data(...) function. * @param accessor accessor function to apply to the marker values in order * to extract coordinate values to search for close datapoints with * AppGraphStrategy.prototype.getNearest(...). */ AppGraphStrategy.prototype.drawMarkers = function(seriesesNode, accessor) { var self = this; // iterate through all serieses seriesesNode.each(function(d) { // if series has markers if (d.markers) { // memorize the series's specific DOM node (should be a g-element) g = d3.select(this); // get the closest data points for each marker values = d.markers.map(function(marker) { value = self.getNearest(d.values, accessor(marker)); // but also carry over the &quot;coords&quot; attribute if it is set value.coords = marker.coords; return value; }); // delegate back to AppGraph.prototype.drawMarkers(...) self.chart.drawMarkers(values, g); } }); }; /** * Draws the annotation saved with each data series * The method delegates back to the base charts drawAnnotation(...) function. * @param seriesesNode the DOM node where all the data serieses are attached * with their respective &quot;annotation&quot; property via d3's data(...) function. */ AppGraphStrategy.prototype.drawAnnotations = function(seriesesNode) { var self = this; // iterate through all serieses seriesesNode.each(function(d) { // if the series has annotations defined if (d.annotations) { g = d3.select(this); // memorize the series's specific DOM node (should be a g-element) // delegate back to AppGraph.prototype.drawAnnotations(...) self.chart.drawAnnotations(d.annotations, g); } }); }; /** * Draws the stickers saved with each data series * The method delegates back to the base charts drawStickers(...) function. * @param seriesesNode the DOM node where all the data serieses are attached * with their respective &quot;stickers&quot; property via d3's data(...) function. */ AppGraphStrategy.prototype.drawStickers = function(seriesesNode) { var self = this; // iterate through all serieses seriesesNode.each(function(d) { // if the series has stickers defined if (d.stickers) { // memorize the series's specific DOM node (should be a g-element) g = d3.select(this); // delegate back to AppGraph.prototype.drawStickers(...) self.chart.drawStickers(d.stickers, g); } }); }; /** * * Draws all the serieses data points. Should be overriden by specific * AppGraphStrategy subclass but should be called from subclass, because * sets up some event listeners * @abstract * @param seriesNode the DOM node where all the data serieses are attached * with their respective datapoints in the &quot;values&quot; property. */ AppGraphStrategy.prototype.drawSerieses = function(seriesNode) { var self = this; // set up handler to highlight serieses on hover and change focussed X/Y // coordinate on mouse move seriesNode .on(&quot;mousemove&quot;, this.chart.mouseMovedHandler()) .on(&quot;mouseenter&quot;, function(d) { self.chart.handleSeriesHighlighted(d.id); }) .on(&quot;mouseleave&quot;, function(d) { self.chart.handleSeriesUnhighlighted(d.id); }); }; /** * A strategy to draw line graph (time series) * @constructor * @extends module:AppChart~AppGraphStrategy * @param chart the basic chart object this strategy belongs to */ AppLineGraph = function(chart) { AppGraphStrategy.call(this, chart); }; AppLineGraph.prototype = Object.create(AppGraphStrategy.prototype); /** * For a set of values, gets the closest value based on the x coordinate * @param seriesValues the values to choose the closest value from * @param x the x coordinate * @param y the y coordinate (ignored in this implementation) */ AppLineGraph.prototype.getNearest = function(seriesValues, x, y) { return AppGraphStrategy.prototype.getNearest .call(this, seriesValues, x, function (d) { return d.x; }); }; /** * @see module:AppChart~AppGraphStrategy#drawMarkers */ AppLineGraph.prototype.drawMarkers = function(seriesesNode) { // delegate to super; definitive for closeness of a data point in the // line graph is the x-coordinate AppGraphStrategy.prototype.drawMarkers.call(this, seriesesNode, function (d) { return d.x; } ); }; /** * Draws a time series (line graph) based on the seriesesNodes attached * values. Also draws markers and annotations. * @param seriesesNode the DOM node where all the data serieses are attached * with their respective datapoints in the &quot;values&quot; property. */ AppLineGraph.prototype.drawSerieses = function(seriesesNode) { // draw stickers first, they should be at the bottom this.drawStickers(seriesesNode); // then draw serieses AppGraphStrategy.prototype.drawSerieses.call(this, seriesesNode); var self = this; // remove all old lines seriesesNode .selectAll(&quot;path&quot;) .remove(); // append new lines (need to do this every time since line's range may // have changed because of zooming &amp; panning) seriesesNode .append(&quot;path&quot;) .attr(&quot;d&quot;, function(d) { return self.chart.line(d.values); }) .attr(&quot;vector-effect&quot;, &quot;non-scaling-stroke&quot;) // line not dependent on zoom level .style(&quot;fill&quot;, &quot;transparent&quot;) .style(&quot;stroke&quot;, function(d) { return d.color ? d.color : &quot;black&quot;; }); // oh and also draw markers and annotations for this series this.drawMarkers(seriesesNode); this.drawAnnotations(seriesesNode); }; /** * A strategy to draw scatter plots * @constructor * @extends module:AppChart~AppGraphStrategy * @param chart the basic chart object this strategy belongs to */ AppScatterGraph = function(chart) { AppGraphStrategy.call(this, chart); }; AppScatterGraph.prototype = Object.create(AppGraphStrategy.prototype); /** * For a set of values, gets the closest value based on either the &quot;t&quot; value * (time value) if one value is supplied or the x and y coordinate if two * values are supplied * @param seriesValues the values to choose the closest value from * @param x_or_t the x or t coordinate * @param y the y coordinate */ AppScatterGraph.prototype.getNearest = function(values, x_or_t, y) { if (y === undefined) { // in case only one value is supplied just redirect to the superclass // function with the appropriate accessor (this is used if markers are // shown, e.g., based on fixed markers supplied as the series.markers // data) var t = x_or_t; return AppGraphStrategy.prototype.getNearest.call(this, values, t, function (d) { return d.t; } ); } else { // otherwise we must apply the eucledian distance to all the values var x = x_or_t, mindist = undefined, r = undefined, xscaled = this.chart.x(x), yscaled = this.chart.y(y); // iterate through all the values; there are better solutions than that // for large data sets (with binary trees etc.) but not today... for (i in values) { value = values[i]; dist = Math.sqrt(Math.pow(this.chart.x(value.x)-xscaled,2) + Math.pow(this.chart.y(value.y)-yscaled,2)); if (mindist === undefined || dist &lt; mindist) { r = value; mindist = dist; } } return r; } }; /** * @see module:AppChart~AppGraphStrategy#drawMarkers */ AppScatterGraph.prototype.drawMarkers = function(seriesesNode) { AppGraphStrategy.prototype.drawMarkers.call(this, seriesesNode, function (d) { return d.t; } ); }; /** * Draws a scatter plot based on the seriesesNodes attached * values. Also draws markers and annotations. * @param seriesesNode the DOM node where all the data serieses are attached * with their respective datapoints in the &quot;values&quot; property. */ AppScatterGraph.prototype.drawSerieses = function(seriesesNode) { AppGraphStrategy.prototype.drawSerieses.call(this, seriesesNode); var self = this; // draw stickers first (at the bottom) this.drawStickers(seriesesNode); seriesesNode.each(function(d) { // memorize the series's element (should be &lt;g&gt; but whatever) g = d3.select(this); // attach all the values to circles with class point in the element circles = g.selectAll(&quot;circle.point&quot;).data(d.values); // set an alpha level if one was specified in the chart's options opacity = self.chart.options.alpha ? self.chart.options.alpha : 1.0; // remove old circles, add new circles with class, opacity and radius circles.exit().remove(); circles.enter().append(&quot;circle&quot;) .attr(&quot;r&quot;, &quot;3&quot;) .attr(&quot;opacity&quot;, opacity) .attr(&quot;class&quot;, &quot;point&quot;); // re-position all the circles (need to do this since x/y range may // have changed because of zooming) circles .style(&quot;fill&quot;, function (v) { return d.color ? d.color : &quot;black&quot;; }) .attr(&quot;cx&quot;, function (v) { return self.chart.x(v.x); }) .attr(&quot;cy&quot;, function (v) { return self.chart.y(v.y); }); }); // oh and also draw markers and annotations this.drawMarkers(seriesesNode); this.drawAnnotations(seriesesNode); }; //==== AppChart //---- Initialization &amp; Data Binding /** * A chart drawn using d3.js with axis, zooming &amp; panning functionality, * display of different data serieses, highlight support etc. * @constructor * @param containerNode the DOM node to contain the chart * @param options a object of options - possible values include: &lt;ul&gt; * &lt;li&gt;colorMap - an array of pairs mapping a value to a color&lt;/li&gt; * &lt;li&gt;metricId - the metricId the values stem from&lt;/li&gt; * &lt;li&gt;xlabel - the caption of the x axis&lt;/li&gt; * &lt;li&gt;ylabel - the caption of the y axis&lt;/li&gt; * &lt;li&gt;title - the text of the graph title&lt;/li&gt; * &lt;li&gt;graphType - one of &quot;line&quot; or &quot;scatter&quot;&lt;/li&gt; * &lt;li&gt;baseDir - base directory to look into if urls are referenced from * the data&lt;/li&gt; * &lt;/ul&gt; */ AppChart = function(containerNode, options) { var colorDomain = function(d) { return d[0]; }; var colorRange = function(d) { return d[1]; }; var self = this; // store container node this.containerNode = containerNode; // read options this.options = options || {}; // set defaults if (! this.options.baseDir) this.options.baseDir = &quot;.&quot;; // set up color map this.colorMap = this.options.colorMap; if (this.colorMap) this.colorMap = d3.scale.linear() .domain(this.colorMap.map(colorDomain)) .range(this.colorMap.map(colorRange)); // set up metric id, graph strategy and padding based on x/y label + title this.metricId = this.options.metricId; this.graphStrategy = AppGraphStrategy.factory(this, options.graphType); this.padding = { top: this.options.title ? 30 : 10, right: 20, bottom: this.options.xlabel ? 60 : 40, left: this.options.ylabel ? 60 : 40 }; // setup() will perform layout of the DOM nodes this.setup(); }; /** * Sets up the DOM nodes of the chart. Should not be called from outside, * will be called by the constructor once on creation of the chart. * All DOM nodes will be available using AppChart....Layer or * AppChart....Node after calling this method. */ AppChart.prototype.setup = function() { var self = this; // set up scales (linear in x- and y-direction) this.y = d3.scale.linear(); this.x = d3.scale.linear(); // first level: SVG top level element, xlink is used for referencing // other sub-images by URL this.svgNode = d3.select(this.containerNode).append(&quot;svg&quot;) .attr(&quot;xmlns:xlink&quot;, &quot;http://www.w3.org/1999/xlink&quot;) .on(&quot;mouseenter&quot;, this.mouseEnterHandler()) .on(&quot;mouseleave&quot;, this.mouseLeaveHandler()); // second level: &lt;g&gt; element grouping all the layers this.layers = this.svgNode.append(&quot;g&quot;); // third level: different layers // third level, first layer: the grid, containing: // ticks, labels, title and a transparent rect used to catch mouse // events for re-scaling of the axis this.gridLayer = this.layers.append(&quot;g&quot;) .attr(&quot;class&quot;, &quot;grid layer&quot;); this.xTicksNode = this.gridLayer.append(&quot;g&quot;) .attr(&quot;class&quot;, &quot;x ticks&quot;); this.yGuideNode = this.gridLayer.append(&quot;g&quot;) .attr(&quot;class&quot;, &quot;y guide&quot;); this.yTicksNode = this.gridLayer.append(&quot;g&quot;) .attr(&quot;class&quot;, &quot;y ticks&quot;); this.xAxisNode = this.gridLayer.append(&quot;line&quot;) .attr(&quot;class&quot;, &quot;x axis&quot;); this.yAxisNode = this.gridLayer.append(&quot;line&quot;) .attr(&quot;class&quot;, &quot;y axis&quot;); if (this.options.title) this.titleNode = this.gridLayer.append(&quot;text&quot;) .attr(&quot;class&quot;, &quot;title&quot;) .text(this.options.title) .attr(&quot;dy&quot;, &quot;-0.8em&quot;) .style(&quot;text-anchor&quot;, &quot;middle&quot;); if (this.options.xlabel) this.xLabelNode = this.gridLayer.append(&quot;text&quot;) .attr(&quot;class&quot;, &quot;x label&quot;) .text(this.options.xlabel + (this.options.xunit ? &quot; in &quot; + this.options.xunit : &quot;&quot;)) .attr(&quot;dy&quot;, &quot;2.4em&quot;) .style(&quot;text-anchor&quot;, &quot;middle&quot;); if (this.options.ylabel) this.yLabelNode = this.gridLayer.append(&quot;text&quot;) .attr(&quot;class&quot;, &quot;y label&quot;) .text(this.options.ylabel + (this.options.yunit ? &quot; in &quot; + this.options.yunit : &quot;&quot;)) .style(&quot;text-anchor&quot;, &quot;middle&quot;); this.interactXAxis = this.gridLayer.append(&quot;rect&quot;) .attr(&quot;class&quot;, &quot;interact x axis&quot;) .on(&quot;mousedown.drag&quot;, self.draggingXStartedHandler()) .on(&quot;touchstart.drag&quot;, self.draggingXStartedHandler()); this.interactYAxis = this.gridLayer.append(&quot;rect&quot;) .attr(&quot;class&quot;, &quot;interact y axis&quot;) .on(&quot;mousedown.drag&quot;, self.draggingYStartedHandler()) .on(&quot;touchstart.drag&quot;, self.draggingYStartedHandler()); // third level, second layer: the &quot;graph&quot;, containing several sublayers this.graphLayer = this.layers.append(&quot;svg&quot;) .attr(&quot;class&quot;, &quot;graph layer &quot; + this.options.graphType) .on(&quot;mousemove&quot;, self.mouseMovedHandler()) // handle mouse motion .call(d3.behavior.zoom().x(this.x).y(this.y) .on(&quot;zoom&quot;, this.zoomHandler())); // add zoomable behaviour // sublayer 1: graph layer is used for catching mouse events this.interactGraph = this.graphLayer.append(&quot;rect&quot;) .attr(&quot;class&quot;, &quot;interact graph&quot;); // sublayer 2: &quot;hotspots&quot; (little rects to tell stories in // explorative views) this.hotspotLayer = this.graphLayer.append(&quot;g&quot;) .attr(&quot;class&quot;, &quot;hotspot layer&quot;); // sublayer 3: layer to display the actual data this.seriesesLayer = this.graphLayer.append(&quot;g&quot;) .attr(&quot;class&quot;, &quot;serieses layer&quot;); // sublayer 4: shows elements that highlight areas interactively this.highlightLayer = this.graphLayer.append(&quot;g&quot;) .attr(&quot;class&quot;, &quot;highlight layer&quot;); this.highlightXYNode = this.highlightLayer.append(&quot;g&quot;); // the whole container node should responde to drag events (zooming) d3.select(this.containerNode) .on(&quot;mousemove.drag&quot;, this.mouseDraggedHandler()) .on(&quot;touchmove.drag&quot;, this.mouseDraggedHandler()) .on(&quot;mouseup.drag&quot;, this.mouseReleasedHandler()) .on(&quot;touchend.drag&quot;, this.mouseReleasedHandler()); // currently we are not dragging anywhere this.draggingX = Math.NaN; this.draggingY = Math.NaN; // we also presume that we have not highlighted this graph this.highlightThis = false; // react to resize events of the surrounding container node this.resizeSensor = new ResizeSensor(this.containerNode, this.resizeHandler()); // setup any outside handlers this.seriesHighlightedHandlers = []; this.seriesUnhighlightedHandlers = []; this.zoomedPannedHandlers = []; this.mouseEnterHandlers = []; this.mouseLeaveHandlers = []; this.mouseMovedHandlers = []; }; /** * Binds data to the graph. Call this function from outside with a &quot;serieses&quot; * dataset and, if you like, supply a buildSeriesTransform callback which * will be applied to the serieses dataset before it is bound to the * chart. * @param serieses the dataset to bind / show in the graph; this is an * array of series objects with the following values: &lt;ul&gt; * &lt;li&gt;values: an array of points in the form * &amp;#123;x:...,y:...[,t:...]&amp;#125;&lt;/li&gt; * &lt;li&gt;id: an id of the series&lt;/li&gt; * &lt;li&gt;markers: an array of markers in the form &amp;#123;x/y/t:...,coords:... * &amp;#125;&lt;/li&gt; * &lt;li&gt;annotations: an array of annotations to display&lt;/li&gt; * &lt;/ul&gt; * See the serieses documentation for more detail. * @param buildSeriesTransform the callback function to apply to every * series before it is bound to the chart */ AppChart.prototype.bind = function(serieses, buildSeriesTransform) { var self = this; if (buildSeriesTransform) serieses = buildSeriesTransform(serieses); this.serieses = serieses; var series = this.seriesesLayer.selectAll(&quot;.series&quot;) .data(this.serieses, function(d) { return d.id; }) .attr(&quot;id&quot;, function(d) { return d.id; }); var seriese = series.enter(); seriese.append(&quot;g&quot;) .attr(&quot;top&quot;, 0) .attr(&quot;left&quot;, 0) .attr(&quot;id&quot;, function(d) { return d.id; }); series.exit().remove(); this.seriesesNode = series; }; //---- Helper functions /** * Returns a series with a series ID from the &quot;belly&quot; of the already bound * chart data * @param seriesId the series to recall */ AppChart.prototype.getSeriesFromId = function(seriesId) { for (i in this.serieses) if (this.serieses[i].id == seriesId) return this.serieses[i]; }; /** * Returns the [xmin, xmax] domain of the chart and adds some whitespace * if requested. If no data is present, the range will be 0.0-0.1 * @param whitespace the whitespace to add in a fraction of xmin-xmax */ AppChart.prototype.getXExtent = function(whitespace) { if (whitespace === undefined) whitespace = 0.0; var minX = undefined, maxX = undefined; // Go through all the series and find the total max / min for (i in this.serieses) { extentX = d3.extent(this.serieses[i].values, function(d) { return d.x; }); if (minX === undefined || extentX[0] &lt; minX) minX = extentX[0]; if (maxX === undefined || extentX[1] &gt; maxX) maxX = extentX[1]; } if (minX === undefined) minX = 0.0; if (maxX === undefined) maxX = 1.0; return [minX - whitespace * (maxX-minX), maxX + whitespace * (maxX-minX)]; }; /** * Returns the [ymin, ymax] domain of the chart and adds some whitespace * if requested. If no data is present, the range will be 0.0-0.1 * @param whitespace the whitespace to add in a fraction of xmin-xmax */ AppChart.prototype.getYExtent = function(whitespace) { if (whitespace === undefined) whitespace = 0.0; var minY = undefined, maxY = undefined; // Go through all the series and find the total max / min for (i in this.serieses) { extentY = d3.extent(this.serieses[i].values, function(d) { return d.y; }); if (minY === undefined || extentY[0] &lt; minY) minY = extentY[0]; if (maxY === undefined || extentY[1] &gt; maxY) maxY = extentY[1]; } if (minY === undefined) minY = 0.0; if (maxY === undefined) maxY = 1.0; return [minY - whitespace * (maxY-minY), maxY + whitespace * (maxY-minY)]; }; /** * Get the nearest value for all series in a hashmap mapping seriesId to * closest point to the coordinates supplied * @param x the x coordinate to search close to * @param y the y coordinate to search close to * @param t the t coordinate (time) to search close to */ AppChart.prototype.getNearest = function(x, y, t) { hash = {}; // go through all series for (i in this.serieses) { series = this.serieses[i]; // use graph strategy to get closest value (different for line chart // and scatter plot) p = this.graphStrategy.getNearest(series.values, x, y, t); // add the value we found plus some helpful information hash[series.id] = { id: series.id, x: p.x, y: p.y, t: p.t, // color value based on color map (if any present) colorVal: this.colorMap ? this.colorMap(p.y) : undefined, // color value based on color assigned to this series color: series.color ? series.color : false }; } return hash; }; //---- Handling Re-Scaling Events /** * Pan the chart to a new x-/y-domain. ALL calls to rescale the graph to a * new domain should go here; re-drawing / re-scaling of all elements, event * firing etc. are done from here. * @param minX the new minX coordinate, supply undefined to leave unchanged * @param maxX the new maxX coordinate, supply undefined to leave unchanged * @param minY the new minY coordinate, supply undefined to leave unchanged * @param maxY the new maxY coordinate, supply undefined to leave unchanged */ AppChart.prototype.dimensions = function(minX, maxX, minY, maxY) { // memorize old dimensions var oldMinX = this.minX, oldMaxX = this.maxX, oldMinY = this.minY, oldMaxY = this.maxY; // if anything changed at all if ((oldMinX !== minX &amp;&amp; minX !== undefined) || (oldMaxX !== maxX &amp;&amp; maxX !== undefined) || (oldMinY !== minY &amp;&amp; minY !== undefined) || (oldMaxY !== maxY &amp;&amp; maxY !== undefined)) { // change all the things that should be changed if (minX !== undefined) this.minX = minX; if (maxX !== undefined) this.maxX = maxX; if (minY !== undefined) this.minY = minY; if (maxY !== undefined) this.maxY = maxY; // re-apply the x/y domain this.x.domain([this.minX, this.maxX]); this.y.domain([this.maxY, this.minY]); // rescale all fixed position DOM nodes this.scale(); // re-draw graph this.draw(); } }; /** * Re-scale all the fixed position DOM nodes. Shortcut to scaleHandler()() * @see module:AppChart~AppChart#scaleHandler */ AppChart.prototype.scale = function() { return this.scaleHandler()(); }; /** * Returns a callback that should be invoked every time the x or y dimensions * (domain or range) of the graph change. Some elements that are drawn on the * chart are fixed-position DOM elements and need re-positioning by * JavaScript. The callback returned by this function takes care of that. */ AppChart.prototype.scaleHandler = function() { var self = this; return function() { // set some internal properties memorizing the space we have available self.clientWidth = self.containerNode.clientWidth; self.clientHeight = self.containerNode.clientHeight -1; self.size = { width: self.clientWidth - self.padding.left - self.padding.right, height: self.clientHeight - self.padding.top - self.padding.bottom }; // re-scale the top level SVG node &amp; layers group to fit the container self.svgNode .attr(&quot;width&quot;, self.clientWidth) .attr(&quot;height&quot;, self.clientHeight); self.layers .attr(&quot;width&quot;, self.clientWidth) .attr(&quot;height&quot;, self.clientHeight) // transform layers group so that pixel origin (0,0) is moved // left/right depending on padding for axis labels .attr(&quot;transform&quot;, &quot;translate(&quot;+self.padding.left+&quot;,&quot;+self.padding.top+&quot;)&quot;); // transform/re-scale rect for catching graph events to cover graph area self.interactGraph .attr(&quot;width&quot;, self.size.width) .attr(&quot;height&quot;, self.size.height) .attr(&quot;transform&quot;, &quot;translate(&quot;+self.padding.left+&quot;,&quot;+self.padding.top+&quot;)&quot;); // transform/re-scale rect for catching x axis events to cover x axis area self.interactXAxis .attr(&quot;width&quot;, self.size.width) .attr(&quot;height&quot;, self.padding.bottom) .attr(&quot;transform&quot;, &quot;translate(0,&quot;+self.size.height+&quot;)&quot;); // transform/re-scale rect for catching y axis events to cover y axis area self.interactYAxis .attr(&quot;width&quot;, self.padding.left) .attr(&quot;height&quot;, self.size.height) .attr(&quot;transform&quot;, &quot;translate(-&quot;+self.padding.left+&quot;,0)&quot;); // transform/re-scale graph layer (svg, see setup(...)) to show exactly // the window we have specified self.graphLayer .attr(&quot;width&quot;, self.size.width) .attr(&quot;height&quot;, self.size.height) .attr(&quot;viewBox&quot;, &quot;0 0 &quot; + self.size.width + &quot; &quot; + self.size.height); self.x = self.x.range([0, self.size.width]); self.y = self.y.range([0, self.size.height]); // move/transfrom x-axis &lt;line&gt; to the right place self.xAxisNode .attr(&quot;x1&quot;, 0) .attr(&quot;x2&quot;, self.size.width) .attr(&quot;transform&quot;, &quot;translate(0,&quot;+self.size.height+&quot;)&quot;); // move y-axis &lt;line&gt; to the right place self.yAxisNode .attr(&quot;y1&quot;, 0) .attr(&quot;y2&quot;, self.size.height); // move color map guide to the right place self.yGuideNode .attr(&quot;x&quot;, self.padding.left-10) .attr(&quot;width&quot;, 10) .attr(self.size.height); // if x label present, move it to the right place if (self.xLabelNode) self.xLabelNode .attr(&quot;x&quot;, self.size.width/2) .attr(&quot;y&quot;, self.size.height+5); // if y label present, move it to the right place if (self.yLabelNode) self.yLabelNode .attr(&quot;transform&quot;, &quot;translate(&quot;+-40+&quot; &quot;+self.size.height/2+&quot;) rotate(-90)&quot;); // if title present, move it to the right place if (self.titleNode) self.titleNode .attr(&quot;x&quot;, self.size.width/2); }; }; /** * Same as scaleHandler(), but calls draw() afterwards. Callback to invoke * everytime the container size changes and not only a re-positioning of the * elements, but a complete redraw is necessary. * @see module:AppChart~AppChart#scaleHandler */ AppChart.prototype.resizeHandler = function() { var self = this; return function() { self.scaleHandler()(); self.draw(); } }; //---- Handling Highlight-Events (mouseovers, marks etc.) /** * Call this method if any part of the graph should be highlighted. Method * calls &quot;drawHighlights(...)&quot; to redraw highlights if anything changed. * @param changedHighlights object with some of the following properties; * Supply any property with &quot;false&quot; to unhighlight something: &lt;ul&gt; * &lt;li&gt;seriesId (string) - highlight any of the data serieses&lt;/li&gt; * &lt;li&gt;x (float) and y (float) - highlight any of the x/y values with a * marker&lt;/li&gt; * &lt;li&gt;thisChart (boolean) - highlight this chart&lt;/li&gt; * &lt;li&gt;hotspots (object) - add hotspots to this chart&lt;/li&gt; */ AppChart.prototype.highlight = function(changedHighlights) { var highlightsDirty = false; // a data series is highlighted if (changedHighlights.seriesId || changedHighlights.seriesId === false) { this.highlightedSeries = changedHighlights.seriesId; highlightsDirty = true; } // the x or y value to be highlighted changed if (changedHighlights.x || changedHighlights.x === false) { this.highlightedX = changedHighlights.x; highlightsDirty = true; } if (changedHighlights.y || changedHighlights.y === false) { this.highlightedY = changedHighlights.y; highlightsDirty = true; } // this chart is highlighted if (changedHighlights.thisChart !== undefined) { this.highlightThis = changedHighlights.thisChart; highlightsDirty = true; } // a hotspot is added if (changedHighlights.hotspots !== undefined) { this.highlightHotspots = changedHighlights.hotspots; highlightsDirty = true; } if (highlightsDirty) this.drawHighlights(); } //---- Drawing the components /** * Re-draw all the components. Shortcut to drawHandler()() * @see module:AppChart~AppChart#drawHandler */ AppChart.prototype.draw = function() { return this.drawHandler()(); }; /** * Returns a callback that should be invoked every time the graph should be * redrawn from scratch since it is re-scaled. Callback redraws all the layers * (grids, serieses &amp; highlights) by using the respective draw&lt;...&gt;-methods. */ AppChart.prototype.drawHandler = function() { var self = this; return function() { self.drawGrid(); self.drawSerieses(); self.drawHighlights(); }; } /** * Redraws the graphs grid. Should be called any time the grid changed * because of a zooming / panning event or rescaling of the graph container. */ AppChart.prototype.drawGrid = function() { var self = this; // accessor methods to translate axis ticks var tx = function(d) { return &quot;translate(&quot; + self.x(d) + &quot;, 0)&quot;; }, ty = function(d) { return &quot;translate(0, &quot; + self.y(d) + &quot;)&quot;; }; // accessor method to determine the class of a grid line based on // whether it is the origin line or not var lg = function(d) { return &quot;long &quot; + (d ? &quot;&quot; : &quot;zero&quot;); }; // create about 10 ticks for the x and y axis var fx = this.x.tickFormat(10), fy = this.y.tickFormat(10); // 1. Regenarate &lt;g&gt; tags for x ticks and apply the data of the ~10 ticks var gx = this.xTicksNode.selectAll(&quot;g&quot;) .data(this.x.ticks(10), String) .attr(&quot;transform&quot;, tx); // Add new x ticks and transform them into the right position var gxe = gx.enter().insert(&quot;g&quot;, &quot;a&quot;) .attr(&quot;transform&quot;, tx); // Add the &quot;short&quot; tick line on the axis gxe.append(&quot;line&quot;).attr(&quot;class&quot;, &quot;short&quot;); // Add the &quot;long&quot; grid line covering the graph gxe.append(&quot;line&quot;).attr(&quot;class&quot;, lg); // Add the text besides the tick gxe.append(&quot;text&quot;) .attr(&quot;dy&quot;, &quot;1em&quot;) .attr(&quot;text-anchor&quot;, &quot;middle&quot;) .text(fx); // Remove any ticks which disappeared gx.exit().remove(); // Place everyting (texts, &quot;short&quot; tick lines and &quot;long&quot; grid lines) // based on the containers dimensions. gx.selectAll(&quot;text&quot;) .attr(&quot;y&quot;, this.size.height+5); gx.selectAll(&quot;line.long&quot;) .attr(&quot;y1&quot;, 0) .attr(&quot;y2&quot;, this.size.height); gx.selectAll(&quot;line.short&quot;) .attr(&quot;y1&quot;, this.size.height) .attr(&quot;y2&quot;, this.size.height+5); // 2. Regenarate &lt;g&gt; tags for y ticks and apply the data of the ~10 ticks var gy = this.yTicksNode.selectAll(&quot;g&quot;) .data(this.y.ticks(10), String) .attr(&quot;transform&quot;, ty); // Add new y ticks and transform them into the right position var gye = gy.enter().insert(&quot;g&quot;, &quot;a&quot;) .attr(&quot;transform&quot;, ty); // Add the &quot;short&quot; tick line on the axis gye.append(&quot;line&quot;).attr(&quot;class&quot;, &quot;short&quot;); // Add the &quot;long&quot; grid line covering the graph gye.append(&quot;line&quot;).attr(&quot;class&quot;, lg); // Add the text besides the tick gye.append(&quot;text&quot;) .attr(&quot;dy&quot;, &quot;.35em&quot;) .attr(&quot;text-anchor&quot;, &quot;end&quot;) .text(fy); // Remove any ticks which disappeared gy.exit().remove(); // Place everyting (texts, &quot;short&quot; tick lines and &quot;long&quot; grid lines) // based on the containers dimensions. gy.selectAll(&quot;text&quot;) .attr(&quot;x&quot;, -5); gy.selectAll(&quot;line.short&quot;) .attr(&quot;x1&quot;, -5) .attr(&quot;x2&quot;, 0); gy.selectAll(&quot;line.long&quot;) .attr(&quot;x1&quot;, 0) .attr(&quot;x2&quot;, this.size.width); // 3. Regenerate y-&quot;guides&quot; (the color map pallette on the y axis) if (this.colorMap) { // lets have about one shade of color every 5 pixels var numGuides = self.size.height / 5, guideTicks = this.y.ticks(numGuides); // for each of these shades we need y coordinate and original value // guideRects array will hold these values guideRects = []; for (i in guideTicks) guideRects.push([ // first rect (i == 0) should reach all the way down but not further i == 0 ? guideTicks[i] : guideTicks[i-1], guideTicks[i] ]); // last rect should reach all the way up but not further guideRects.push([guideTicks[guideTicks.length-1], this.y.invert(0)]); // create a &quot;rect&quot; for each guide shape gg = this.yGuideNode.selectAll(&quot;rect&quot;) .data(guideRects); // remove all guide shapes that have &quot;disappeared&quot; gg.exit().remove(); // add new guide shapes that have entered gge = gg.enter().append(&quot;rect&quot;); // place, transform and fill shapes gg.attr(&quot;transform&quot;, function(d) { return &quot;translate(-5, &quot; + (self.y(d[1])) + &quot;)&quot;; }) .attr(&quot;height&quot;, function(d) { return self.y(d[0])-self.y(d[1])+1; }) .attr(&quot;fill&quot;, function(d) { return self.colorMap(d[1]); }) .attr(&quot;width&quot;, &quot;5&quot;); } }; /** * Redraws the graphs data serieses. Call this every time the graph container * rescales. This method largely delegates to * AppGraphStrategy.drawSerieses(...) */ AppChart.prototype.drawSerieses = function() { var self = this; // the &quot;line&quot; connecting all the data points (only really used in time // series visualizations) this.line = d3.svg.line() .interpolate(&quot;linear&quot;) .x(function(d,i) { return self.x(d.x); }) .y(function(d,i) { return self.y(d.y); }); // delegte to graph strategy if (this.seriesesNode) this.graphStrategy.drawSerieses(this.seriesesNode); // also let the user zoom / pan if he has the mouse on the series (not only // un the rect-area below it) this.graphLayer.call( d3.behavior.zoom().x(this.x).y(this.y).on(&quot;zoom&quot;, this.zoomHandler())); }; /** * Redraws the graphs stickers. Needs to be supplied with a sticker array. * This method is usually called from the graph strategy. * @param data the sticker data to draw on the graph - an array of * sticker objects, each with the following properties: &lt;ul&gt; * &lt;li&gt;x0, y0 - one corner to draw the sticker to&lt;/li&gt; * &lt;li&gt;x1, y1 - the diagonally opposite corner to draw the sticker to&lt;/li&gt; * &lt;li&gt;src - filename (relative to graphOptions.baseDir) of the * sticker&lt;/li&gt; * &lt;/ul&gt; * @param container the container to draw the stickers into */ AppChart.prototype.drawStickers = function(data, container) { var self = this; stickerSel = container.selectAll(&quot;image.sticker&quot;); sticker = stickerSel.data(data); sticker.exit().remove(); stickerEnter = sticker.enter().append(&quot;image&quot;).attr(&quot;class&quot;, &quot;sticker&quot;); sticker .attr(&quot;x&quot;, function (d) { return Math.min(self.x(d.x0),self.x(d.x1)); }) .attr(&quot;y&quot;, function (d) { return Math.min(self.y(d.y0),self.y(d.y1)); }) .attr(&quot;width&quot;, function (d) { return Math.abs(self.x(d.x1)-self.x(d.x0)); }) .attr(&quot;height&quot;, function (d) { return Math.abs(self.y(d.y0)-self.y(d.y1)); }) .attr(&quot;xlink:href&quot;, function(d) { return self.options.baseDir + &quot;/&quot; + d.src; }); }; /** * Redraws the graphs annotations. Needs to be supplied with an annotation * array. This method is usually called from the graph strategy. * @param data the annotation data to draw on the graph - an array of * annotation objects, each with the following properties: &lt;ul&gt; * &lt;li&gt;lines - an array of text lines to display&lt;/li&gt; * &lt;li&gt;color - a color to fill the annotation with&lt;/li&gt; * &lt;li&gt;anchor - the text anchor (start, middle, end)&lt;/li&gt; * &lt;/ul&gt; * @param container the container to draw the data into */ AppChart.prototype.drawAnnotations = function(data, container) { var self = this; // select all annotations inside the container &amp; apply the annotation object textSel = container.selectAll(&quot;text.annotation&quot;); text = textSel.data(data); // remove all annotations that have dissappeared text.exit().remove(); // create new annotation objects textEnter = text.enter().append(&quot;text&quot;).attr(&quot;class&quot;, &quot;annotation&quot;); // re-place all annotation objects (in case the graph was rescaled) text.attr(&quot;transform&quot;, function (d) { return &quot;translate(&quot; + self.x(d.x) + &quot;,&quot; + self.y(d.y) + &quot;)&quot;; } ); // for new annotations: fill them and add multi line text (one tspan per // text line) textLines = textEnter .attr(&quot;fill&quot;, function (d) { return d.color ? d.color : &quot;&quot;; }) .attr(&quot;text-anchor&quot;, function (d) { return d.anchor ? d.anchor : &quot;&quot;; }) .selectAll(&quot;tspan&quot;) .data(function (d) { return d.lines; }); textLines.exit().remove(); textLines.enter().append(&quot;tspan&quot;) .attr(&quot;dy&quot;, &quot;1.2em&quot;) // lines have 1.2em distance from another .attr(&quot;x&quot;, &quot;0&quot;) .text(function (d) { return d; }); }; /** * Redraws the graphs markers. Needs to be supplied with an marker array, a * container DOM object to specify where to draw the markers into and * a boolean stating whether this graph is highlighted or not. This method is * usually called from the graph strategy. * @param data the marker data to draw on the graph - an array of marker * objects, each with the following properties: &lt;ul&gt; * &lt;li&gt;x - the x value of the marker&lt;/li&gt; * &lt;li&gt;y - the y value of the marker&lt;/li&gt; * &lt;li&gt;t - the t value of the marker&lt;/li&gt; * &lt;li&gt;coords - an optional array of a combination of &quot;x&quot;, &quot;y&quot;, &quot;t&quot; to * signify which labels need to be plotted next to the marker&lt;/li&gt; * &lt;/ul&gt; * @param container the container to draw the data into * @param highlightedSeries boolean to signify if the series is highlighted or * not */ AppChart.prototype.drawMarkers = function(data, container, highlightedSeries) { var self = this, format = d3.format(&quot;.2f&quot;); // get all circles representing the marker points and all texts representing // the markers x, y &amp; t values circleSel = container.selectAll(&quot;circle.marker&quot;); xTextSel = container.selectAll(&quot;text.x&quot;); yTextSel = container.selectAll(&quot;text.y&quot;); tTextSel = container.selectAll(&quot;text.t&quot;); circles = circleSel.data(data); // remove all disappeared, add all appeared circles circles.exit().remove(); circles.enter().append(&quot;circle&quot;).attr(&quot;r&quot;, &quot;5&quot;); // define class, position, stroke, filling and highlight / unhighlight // behaviour circles // class should capture if the series is highlighted, and if the series // has a color map attached .attr(&quot;class&quot;, function (d) { return (highlightedSeries === true || d.id == highlightedSeries ? &quot;highlighted&quot; : &quot;&quot;) + &quot; &quot; + (d.colorVal ? &quot;with-color-map&quot; : &quot;&quot;) + &quot; marker&quot;; }) // coordinates .attr(&quot;cx&quot;, function (d) { return self.x(d.x); }) .attr(&quot;cy&quot;, function (d) { return self.y(d.y); }) // stroke is the color of the series, if any is defined, if not, then // it is the color resolved from the value-color-map, if any is present, // otherwise it is just black .attr(&quot;stroke&quot;, function (d) { return d.color ? d.color : d.colorVal ? d.colorVal : &quot;black&quot;; }) // fill is the color resoled from the value-color-map, if any is present .attr(&quot;fill&quot;, function (d) { return d.colorVal ? d.colorVal : &quot;transparent&quot;; }) // also highlight / unhighlight the series if hovering over the marker, // (the same way we do if we hover over the series itself) .on(&quot;mouseenter&quot;, function(d) { self.handleSeriesHighlighted(d.id); }) .on(&quot;mouseleave&quot;, function(d) { self.handleSeriesUnhighlighted(d.id); }); // add x value labels if (xTextSel) { // apply markers xTexts = xTextSel.data(data); // add appeared marker labels, remove disappeared ones xTexts.exit().remove(); xTexts.enter().append(&quot;text&quot;).attr(&quot;class&quot;, &quot;x&quot;); // define the text to display, it's position, anchor and class xTexts .text(function(d) { // only display text, if present &amp; d.coords doesn't forbid if ((d.coords &amp;&amp; d.coords.indexOf(&quot;x&quot;)==-1) || d.x===undefined) return &quot;&quot;; // display text as x value + unit return format(d.x) + (self.options.xunit ? self.options.xunit : &quot;&quot;); }) .attr(&quot;x&quot;, function(d) { return self.x(d.x); }) .attr(&quot;y&quot;, function(d) { return self.y(d.y)+20; }) .attr(&quot;text-anchor&quot;, &quot;middle&quot;) // class should represent if series is highlighted .attr(&quot;class&quot;, function (d) { return (highlightedSeries === true || d.id == highlightedSeries ? &quot;highlighted &quot; : &quot;&quot;) + &quot;x&quot;; }); } // add y value labels if (yTextSel) { // apply markers yTexts = yTextSel.data(data); // add appeared marker labels, remove disappeared ones yTexts.exit().remove(); yTexts.enter().append(&quot;text&quot;).attr(&quot;class&quot;, &quot;y&quot;); // define the text to display, it's position, anchor and class yTexts .text(function(d) { // only display text, if present &amp; d.coords doesn't forbid if ((d.coords &amp;&amp; d.coords.indexOf(&quot;y&quot;)==-1) || d.y === undefined) return &quot;&quot;; // display text as y value + unit return format(d.y) + (self.options.yunit ? self.options.yunit : &quot;&quot;); }) .attr(&quot;x&quot;, function(d) { return self.x(d.x)-10; }) .attr(&quot;y&quot;, function(d) { return self.y(d.y)+3; }) .attr(&quot;text-anchor&quot;, &quot;end&quot;) // class should represent if series is highlighted .attr(&quot;class&quot;, function (d) { return (highlightedSeries === true || d.id == highlightedSeries ? &quot;highlighted &quot; : &quot;&quot;) + &quot;y&quot;; }); } // add t value labels if (tTextSel) { // apply markers tTexts = tTextSel.data(data); // add appeared marker labels, remove disappeared ones tTexts.exit().remove(); tTexts.enter().append(&quot;text&quot;).attr(&quot;class&quot;, &quot;t&quot;); // define the text to display, it's position, anchor and class tTexts .text(function(d) { // only display text, if present &amp; d.coords doesn't forbid if ((d.coords &amp;&amp; d.coords.indexOf(&quot;t&quot;)==-1) || d.t === undefined) return &quot;&quot;; // display text as t value + unit return format(d.t) + (self.options.tunit ? self.options.tunit : &quot;&quot;); }) .attr(&quot;x&quot;, function(d) { return self.x(d.x)+10; }) .attr(&quot;y&quot;, function(d) { return self.y(d.y)+3; }) // class should represent if series is highlighted .attr(&quot;class&quot;, function (d) { return (highlightedSeries === true || d.id == highlightedSeries ? &quot;highlighted &quot; : &quot;&quot;) + &quot;t&quot;; }); } }; /** * Redraws the graphs hotspots. Needs to be supplied with an hotspot array and * a container DOM object where to draw the objects into. This method is * called from drawHighlights(...) since hotspots are considered highlights. * @param data the hotspot data to draw on the graph - an array of hotspot * objects, each with the properties x0, y0, x1, y1 to specify the area * that the hotspot may cover and the property &quot;seriesId&quot; signifying the * series this hotspot belongs to. * @param container the container to draw the hotspots into */ AppChart.prototype.drawHotspots = function(data, container) { var self = this; // select all rects with hotspot class hotspotSel = container.selectAll(&quot;rect.hotspot&quot;) // if no hotspots are defined just safely assume an empty array if (!data) data = []; // filter the array to extract only the series we are currently plotting if (this.seriesId) data = data.filter(function (d) { return (d.seriesId == self.seriesId); }); // apply the data to the DOM nodes hotspots = hotspotSel.data(data); // remove all disappeared hotspots, add all appeared hotspots hotspots.exit().remove(); hotspots.enter().append(&quot;rect&quot;) .attr(&quot;class&quot;, &quot;hotspot&quot;) .attr(&quot;rx&quot;, &quot;5&quot;) .attr(&quot;ry&quot;, &quot;5&quot;); // place the hotspots correctly hotspots .attr(&quot;x&quot;, function (d) { return Math.min(self.x(d.x0),self.x(d.x1)); }) .attr(&quot;y&quot;, function (d) { return Math.min(self.y(d.y0),self.y(d.y1)); }) .attr(&quot;width&quot;, function (d) { return Math.abs(self.x(d.x1)-self.x(d.x0)); }) .attr(&quot;height&quot;, function (d) { return Math.abs(self.y(d.y0)-self.y(d.y1)); }); }; /** * Redraws the graphs highlights based on the internal highlight state */ AppChart.prototype.drawHighlights = function() { var self = this; // highlight any points close to the specified &quot;highlightX&quot; / &quot;highlightY&quot; // location and draw the associated markers hash = this.getNearest(this.highlightedX, this.highlightedY); data = []; for (k in hash) data.push(hash[k]); if (this.highlightedX !== false) { this.drawMarkers(data, this.highlightXYNode, this.highlightedSeries); } else if (this.highlightedX === false) { this.drawMarkers([], this.highlightXYNode, this.highlightedSeries); } // highlight this graph if &quot;highlightThis&quot; is true (e.g. on mouseover) this.layers.attr(&quot;class&quot;, (this.highlightThis ? &quot;highlighted&quot; : &quot;unhighlighted&quot;) + &quot; app-chart&quot;); // highlight any series if &quot;highlightedSeries&quot; is specified if (this.seriesNode) this.seriesNode.attr(&quot;class&quot;, function(d) { return (d.id == self.highlightedSeries ? &quot;highlighted &quot; : &quot;unhighlighted&quot;) + &quot; series&quot;; }); // draw hotspots if &quot;highlightHotspots&quot; is defined this.drawHotspots(this.highlightHotspots, this.hotspotLayer); }; //---- Internal callbacks (functions consuming events) /** * Return internal callback invoked if started dragging on the x axis */ AppChart.prototype.draggingXStartedHandler = function() { var self = this; return function() { document.onselectstart = function() { return false; }; var p = d3.mouse(self.layers[0][0]); // safe where we started dragging self.draggingX = self.x.invert(p[0]); }; }; /** * Return internal callback invoked if started dragging on the y axis */ AppChart.prototype.draggingYStartedHandler = function() { var self = this; return function() { document.onselectstart = function() { return false; }; var p = d3.mouse(self.layers[0][0]); // safe where we started dragging self.draggingY = self.y.invert(p[1]); }; }; /** * Return internal callback invoked if moving the mouse while dragging. */ AppChart.prototype.mouseDraggedHandler = function() { var self = this; return function() { var p = d3.mouse(self.layers[0][0]), // mouse coordinates t = d3.event.changedTouches, x = self.x.invert(p[0]), // x value from domain y = self.y.invert(p[1]), // y value from domain newMaxX = undefined, newMaxY = undefined; // we are currently dragging the x axis if (self.draggingX !== undefined) { if (x != 0) { var changeX = self.draggingX / x; newMaxX = self.minX + (self.x.domain()[1] - self.minX) * changeX; } d3.event.preventDefault(); d3.event.stopPropagation(); } // we are currently dragging the y axis if (self.draggingY !== undefined) { if (y != 0) { var changeY = self.draggingY / y; newMaxY = self.minY + (self.y.domain()[0] - self.minY) * changeY; } d3.event.preventDefault(); d3.event.stopPropagation(); } // if we dragged on x and why and we didn't end up with strange // coordinates, rescale the graph if (newMaxX !== undefined || newMaxY !== undefined) { self.dimensions(undefined, newMaxX, undefined, newMaxY); // also invoke all zoom/pan handlers self.handleZoomedPanned(); } }; }; /** * Return internal callback invoked if moving the mouse. */ AppChart.prototype.mouseMovedHandler = function() { var self = this; return function() { var p = d3.mouse(self.layers[0][0]), x = self.x.invert(p[0]), y = self.y.invert(p[1]); // invoke any external callbacks self.handleMouseMoved(x, y); return false; }; }; /** * Return internal callback invoked if the graph was zoomed by the d3.js * internal zooming behaviour */ AppChart.prototype.zoomHandler = function() { var self = this; return function() { // get the new dimentsions (which are automatically set by d3.js) minX = self.x.domain()[0]; maxX = self.x.domain()[1]; maxY = self.y.domain()[0]; minY = self.y.domain()[1]; // apply those dimensions how we are doing it self.dimensions(minX, maxX, minY, maxY); // invoke external callbacks self.handleZoomedPanned(); }; }; /** * Return internal callback invoked if the mouse is released after a dragging * event */ AppChart.prototype.mouseReleasedHandler = function() { var self = this; return function() { document.onselectstart = function() { return true; }; // reset internal state if (!isNaN(self.draggingX)) { self.draw(); self.draggingX = Math.NaN; d3.event.preventDefault(); d3.event.stopPropagation(); } if (!isNaN(self.draggingY)) { self.draw(); self.draggingY = Math.NaN; d3.event.preventDefault(); d3.event.stopPropagation(); } }; }; /** * Return internal callback invoked if the mouse enters the graph area */ AppChart.prototype.mouseEnterHandler = function(f) { var self = this; return function() { // invoke external callback self.handleMouseEnter(); }; }; /** * Return internal callback invoked if the mouse leaves the graph area */ AppChart.prototype.mouseLeaveHandler = function(f) { var self = this; return function() { // invoke external callback self.handleMouseLeave(); }; }; //---- Attaching external callbacks /** * Attach a callback to be invoked every time a series gets highlighted * @param f the callback function - can take one argument, the seriesId */ AppChart.prototype.attachSeriesHighlightedHandler = function(f) { this.seriesHighlightedHandlers.push(f); }; /** * Attach a callback to be invoked every time a series gets unhighlighted * @param f the callback function - can take one argument, the seriesId */ AppChart.prototype.attachSeriesUnhighlightedHandler = function(f) { this.seriesUnhighlightedHandlers.push(f); }; /** * Attach a callback to be invoked every time the graph is zoomed/panned * @param f the callback function - can take 4 arguments: minX, maxX, minY, * maxY */ AppChart.prototype.attachZoomedPannedHandler = function(f) { this.zoomedPannedHandlers.push(f); }; /** * Attach a callback to be invoked every time the mouse enters the graph * @param f the callback function */ AppChart.prototype.attachMouseEnterHandler = function(f) { this.mouseEnterHandlers.push(f); }; /** * Attach a callback to be invoked every time the mouse leaves the graph * @param f the callback function */ AppChart.prototype.attachMouseLeaveHandler = function(f) { this.mouseLeaveHandlers.push(f); }; /** * Attach a callback to be invoked every time the mouse is moved inside the * graph * @param f the callback function */ AppChart.prototype.attachMouseMovedHandler = function(f) { this.mouseMovedHandlers.push(f); }; //---- Invoking external callbacks /** * Invoke all callbacks to handle the event of a highlighted series * @param id the series that was highlighted */ AppChart.prototype.handleSeriesHighlighted = function(id) { for (i in this.seriesHighlightedHandlers) { this.seriesHighlightedHandlers[i](id); } }; /** * Invoke all callbacks to handle the event of a unhighlighted series * @param id the series that was unhighlighted */ AppChart.prototype.handleSeriesUnhighlighted = function(id) { for (i in this.seriesHighlightedHandlers) { this.seriesUnhighlightedHandlers[i](id); } }; /** * Invoke all callbacks to handle the event of a graph zoom/pan action */ AppChart.prototype.handleZoomedPanned = function() { for (i in this.zoomedPannedHandlers) { this.zoomedPannedHandlers[i]( this.minX, this.maxX, this.minY, this.maxY ); } }; /** * Invoke all callbacks to handle the event of a mouse enter */ AppChart.prototype.handleMouseEnter = function() { for (i in this.mouseEnterHandlers) { this.mouseEnterHandlers[i](); } }; /** * Invoke all callbacks to handle the event of a mouse leave */ AppChart.prototype.handleMouseLeave = function() { for (i in this.mouseLeaveHandlers) { this.mouseLeaveHandlers[i](); } }; /** * Invoke all callbacks to handle the event of a mouse move */ AppChart.prototype.handleMouseMoved = function(x, y) { for (i in this.mouseMovedHandlers) { this.mouseMovedHandlers[i](x, y); } }; return AppChart; }); × Search results Close "},"AppChartController.js.html":{"id":"AppChartController.js.html","title":"Source: AppChartController.js","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Source: AppChartController.js /** * Exposes a controller to be used with AngularJS directives in order to draw * a visualization graph using the AppChart class &amp; D3.js. The controller * takes care about feeding the angular.js variables from the directive into * the AppChart object and modifying them when interacting with the chart. * @module AppChartController * @exports AppChartController */ define([&quot;AppChart&quot;], function(AppChart) { /** * Sets up a controller to glue together the generic AppChart chart drawing * component with an AngularJS directive &amp; scope. The directive that uses this * controller must bind the following scope variables to the controller: &lt;ul&gt; * &lt;li&gt;highlights - the highlights object representing the internal * visualization status&lt;/li&gt; * &lt;li&gt;data - the data object to visualize&lt;/li&gt; * &lt;/ul&gt; * @constructor * @param $scope the AngularJS scope of the directive where the chart should * be placed. * @param $element the DOM element of the directive * @param ctrlName the name of the controller in the angularJS scope */ AppChartController = function($scope, $element, ctrlName) { // the container object for AppChart is the first child of the directive this.container = $element.children().first()[0]; // memorize scope since some callbacks will use $scope.$apply(...) this.$scope = $scope; // attach handlers to &quot;highlights&quot; object n = ctrlName; $scope.$watch(n + &quot;.highlights.x&quot;, this.highlightsUpdatedHandler()); $scope.$watch(n + &quot;.highlights.hotspots&quot;, this.highlightsUpdatedHandler()); $scope.$watch(n + &quot;.highlights.seriesId&quot;, this.highlightsUpdatedHandler()); }; /** * Returns the factory function of the controller. The factory is used in * the directives .controller property. You have to specify some &quot;options&quot; * to the factory. The factory callback returned will accept exactly two * parameters: $scope and $element. * @static * @param ctrlName the name of the controller object in the AngularJS scope */ AppChartController.getFactory = function(ctrlName) { return function($scope, $element) { return new AppChartController($scope, $element, ctrlName); }; }; /** * This function must be called when the directive using this controller links * the directive to a DOM element. It takes care of actually drawing the * chart into the DOM element. * @param chartOptions the chart options to create the AppChart with * @param dataTransformer the data transform function to apply to the data * before the chart is drawn */ AppChartController.prototype.link = function(dataTransformer, chartOptions) { this.chartOptions = chartOptions; this.dataTransformer = dataTransformer; // define chart options based on supplied data // create AppChart object and wire callbacks from controller to it this.chart = new AppChart(this.container, this.chartOptions); this.chart.attachSeriesHighlightedHandler( this.seriesHighlightedHandler()); this.chart.attachSeriesUnhighlightedHandler( this.seriesUnhighlightedHandler()); this.chart.attachMouseLeaveHandler( this.xyUnhighlightedHandler()); this.chart.attachMouseMovedHandler( this.xyHighlightedHandler()); this.chart.attachZoomedPannedHandler( this.zoomedPannedHandler()); // initialize highlights, bind data, rescale chart and redraw chart this.highlightsUpdatedHandler()(); this.dataUpdated(); this.fitChart(); this.chart.draw(); }; /** * To be called if the data property of the associated data object in the * directive / controller is changed or initialized. */ AppChartController.prototype.dataUpdated = function() { if (this.chart) this.chart.bind(this.data, this.dataTransformer); }; /** * Returns a callback that can be invoked if the highlights object supplied * to the directive / controller is changed. Will delegate the highlight * change to the included AppChart object. */ AppChartController.prototype.highlightsUpdatedHandler = function() { var self = this; return function() { if (self.chart) { self.chart.highlight({ x: self.highlights.x, y: self.highlights.y, seriesId: self.highlights.seriesId, hotspots: self.highlights.hotspots }); } } }; /** * Initializes the display area (x- and y-axis domain) of the chart based * on whether the highlights object specifies an area the chart should * navigate to via the xRange property and base on whether the highlight * object's &quot;looseness&quot; property dictates that the chart should be re-fit * to the maximum viewable area. */ AppChartController.prototype.fitChart = function() { var minX = undefined, maxX = undefined, minY = undefined, maxY = undefined, minXRange = undefined, maxXRange = undefined; // get the x-axis and y-axis extent of the data with a padding of 20% above // and below the maximum value var extentX = this.chart.getXExtent(0.2), extentY = this.chart.getYExtent(0.2); // if the highlights object speicifies an area, start with this if (this.highlights.xRange) { minXRange = this.highlights.xRange[0]; maxXRange = this.highlights.xRange[1]; } // check if we do have a valid range now based on the highlights object if (minXRange !== undefined &amp;&amp; maxXRange !== undefined) { minX = minXRange; maxX = maxXRange; // if we also have looseness &gt; 1, that is, we should NOT re-fit the chart // based on the data values extent unless no highlights.xRange property is // specified with either the minX or maxX extent if (this.highlights.looseness &gt; 1) { if (minX === undefined || extentX[0] &lt; minX) this.highlights.xRange[0] = minX = extentX[0]; if (maxX === undefined || extentY[1] &gt; maxX) this.highlights.xRange[1] = maxX = extentX[1]; } } else { // if we do NOT have a valid range based on highlights, just use the // data extent minX = extentX[0]; maxX = extentX[1]; } // if values are constant along Y axis, we add a padding of +1/-1 if (extentY[0] == extentY[1]) this.chart.dimensions(minX, maxX, extentY[0]-1, extentY[1]+1); else this.chart.dimensions(minX, maxX, extentY[0], extentY[1]); }; /** * Returns a callback that should be invoked every time the highlights.xRange * value is changed. Will take care that all charts scroll uniformely along * the x axis. */ AppChartController.prototype.xRangeUpdatedHandler = function() { var self = this; return function() { if (self.highlights.xRange) { minX = self.highlights.xRange[0]; maxX = self.highlights.xRange[1]; self.chart.dimensions(minX, maxX, undefined, undefined); } } }; /** * Returns a callback that should be invoked any time a series is highlighted. * The callback accepts exactly one parameter: the seriesId. Will take care * that the highlights object (seriesId and looseness) is updated accordingly. */ AppChartController.prototype.seriesHighlightedHandler = function() { var self = this; return function(seriesId) { self.$scope.$apply(function() { self.highlights.seriesId = seriesId; if (self.highlights.looseness &lt; 1) self.highlights.looseness = 1; }); }; }; /** * Returns a callback that should be invoked any time a series is * unhighlighted. The callback accepts exactly one parameter: the seriesId. * Will take care that the highlights object (seriesId and looseness) is * updated accordingly. */ AppChartController.prototype.seriesUnhighlightedHandler = function() { var self = this; return function(seriesId) { self.$scope.$apply(function() { self.highlights.seriesId = false; if (self.highlights.looseness &lt; 1) self.highlights.looseness = 1; }); }; }; /** * Returns a callback that should be invoked any time the x/y extent changes * because the user zooms or pans in the graph. Updates the highlights object * (xRange property) accordingly. */ AppChartController.prototype.zoomedPannedHandler = function() { var self = this; return function(minX, maxX, minY, maxY) { self.$scope.$apply(function() { self.highlights.xRange = [minX, maxX]; }); }; }; /** * Returns a callback that should be invoked any time a x/y value in the * graph is highlighted (effectively, any time the mouse moves). Callback * will accept a x and y domain coordinate as its 2 parameters and update * highlights.x and highlights.y accordingly. */ AppChartController.prototype.xyHighlightedHandler = function() { var self = this; return function(x, y) { self.$scope.$apply(function() { self.highlights.x = x; self.highlights.y = y; if (self.highlights.looseness &lt; 1) self.highlights.looseness = 1; }); }; }; /** * Returns a callback that should be invoked any time the mouse leaves the * graph area or no point at all is highlighted in the graph. */ AppChartController.prototype.xyUnhighlightedHandler = function() { var self = this; return function() { self.$scope.$apply(function() { self.highlights.x = false; self.highlights.seriesesValues = {}; if (self.highlights.looseness &lt; 1) self.highlights.looseness = 1; }); }; }; /** * Returns a callback that should be invoked any time the &quot;looseness&quot; value * of the highlights object is changed. The &quot;looseness&quot; value specifies * which amount of &quot;guiding&quot; the UI should enforce (looseness = 0: * storytelling mode, looseness 1 = storytelling mode with user * starting to explore the graph, looseness = 2: user has collapsed the * storytelling, looseness = 3: user has completely 'gone off on its own' and * selected other metrics, zoomed/panned in the graph etc.) */ AppChartController.prototype.loosenessUpdatedHandler = function() { var self = this; return function() { if (self.highlights.looseness == 2) { self.highlights.xRange = [undefined, undefined]; self.fitChart(); } } }; return AppChartController; }); × Search results Close "},"AppSummaryDirective.js.html":{"id":"AppSummaryDirective.js.html","title":"Source: AppSummaryDirective.js","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Source: AppSummaryDirective.js /** * Exposes the AngularJS code of the &amp;lt;app-summary&amp;gt; directive which * displays a summary / explanatory graph. Uses the AppChartController * controller/module to place an AppChart object in the element reserved by the * directive. * @module AppChartPanel * @exports AppChartPanel */ define([&quot;AppHelper&quot;, &quot;AppChartController&quot;, &quot;AppConstants&quot;], function(AppHelper, AppChartPanel, AppConstants) { /** * The &amp;lt;app-summary&amp;gt; directive. Supports the following attributes: &lt;ul&gt; * &lt;li&gt;highlights '=' - the highlights object representing the internal * visualization status&lt;/li&gt; * &lt;li&gt;data '=' - the data object to visualize&lt;/li&gt; * &lt;/ul&gt; * @constructor */ AppSummaryDirective = function() { this.restrict = &quot;E&quot;; this.scope = true; this.templateUrl = &quot;templates/AppSummary.html&quot;; this.bindToController = { data: &quot;=&quot;, highlights: &quot;=&quot; }; this.controllerAs = &quot;appSummary&quot;; // create the controller based on the AppChartController class this.controller = [&quot;$scope&quot;, &quot;$element&quot;, AppChartController.getFactory(this.controllerAs)] }; /** * Factory to create the controller; used as the .controller member of the * directive. * @static */ AppSummaryDirective.factory = function() { return new AppSummaryDirective(); }; /** * The &quot;link&quot; function to be invoked when the directive is attached to an * element. Will take care that the controller will draw the chart using the * AppChart methods. */ AppSummaryDirective.prototype.link = function( $scope, $element, $attrs, $controllers, $transclude ) { dataTransformer = AppHelper.getSeriesDataTransformer(&quot;x&quot;, &quot;y&quot;, &quot;time&quot;) chartOptions = { graphType: &quot;scatter&quot;, baseDir: AppConstants.DATA_DIR, xlabel: $scope.appSummary.data.xlabel, xunit: $scope.appSummary.data.xunit, ylabel: $scope.appSummary.data.ylabel, yunit: $scope.appSummary.data.yunit, tlabel: $scope.appSummary.data.tlabel, tunit: $scope.appSummary.data.tunit, alpha: 0.05 }; $scope.appSummary.link(dataTransformer, chartOptions); }; return AppSummaryDirective; }); × Search results Close "},"AppConfigurator.js.html":{"id":"AppConfigurator.js.html","title":"Source: AppConfigurator.js","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Source: AppConfigurator.js /** * A module to isolate the AppConfigurator of the DAND6 angular application * The AppConfigurator configures the angular application location service and * thus takes care of routing URL requests to the application to the right * view * @module AppConfigurator * @exports AppConfigurator */ define([], function() { /** * The AppConfigurator defines the $location service of angular to redirect * the user to the correct angular view and sets up the navigational metadata * @constructor */ AppConfigurator = function($location, $route) { $location.html5Mode(false); $location.hashPrefix('!'); $route // Explanatory page .when('/explain', { templateUrl: &quot;views/explain.html&quot;, controller: &quot;appExplain&quot;, controllerAs: &quot;appExplain&quot;, reloadOnSearch: false, name: &quot;Introduction to E-Mobility&quot;, id: &quot;explain&quot; }) // Exploratory page .when('/explore', { templateUrl: &quot;views/explore.html&quot;, controller: &quot;appExplore&quot;, controllerAs: &quot;appExplore&quot;, reloadOnSearch: false, name: &quot;Explore Car Batteries!&quot;, id: &quot;explore&quot; }) // Readme .when('/readme', { redirectTo: &quot;https://github.com/benjaminsoellner/DAND_6_VisualizeEMobilityDataInD3js/blob/master/README.md&quot;, name: &quot;Project Documentation on GitHub&quot;, id: &quot;readme&quot; }) // Documentation .when('/doc', { templateUrl: &quot;views/doc.html&quot;, name: &quot;Technical Documentation&quot;, id: &quot;doc&quot; }) // Authors homepage .when('/benkku', { redirectTo: &quot;http://www.benkku.com&quot;, name: &quot;Visit www.benkku.com&quot;, id: &quot;benkku&quot; }) // Default: homepage .otherwise({ redirectTo: &quot;/explain&quot; }); }; /** * Factory method to create an AppConfigurator; used in angular.config(...) * @static */ AppConfigurator.factory = function($location, $route) { return new AppConfigurator($location, $route); }; return AppConfigurator; }); × Search results Close "},"AppConstants.js.html":{"id":"AppConstants.js.html","title":"Source: AppConstants.js","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Source: AppConstants.js /** * A module to isolate all centrally used constants * @module AppConstants */ define([], function() { return { /** * the directory where the data resides * @member */ DATA_DIR: &quot;data&quot;, /** * the file where the different battery scenarios are stored * @member */ SCENARIOS_FILE: &quot;scenarios.json&quot;, /** * the special scenario file which contains the explanatory visualization * @member */ SUMMARY_FILE: &quot;summary.json&quot;, /** * the stories file related to that scenario * @member */ SUMMARY_STORIES_FILE: &quot;summary-stories.json&quot; }; }); × Search results Close "},"AppDropdownDirective.js.html":{"id":"AppDropdownDirective.js.html","title":"Source: AppDropdownDirective.js","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Source: AppDropdownDirective.js /** * Module defining the angularjs dropdown component &amp;lt;app-dropdown&amp;gt; ... * &amp;lt;/app-dropdown&amp;gt; * @module AppDropdownDirective * @exports AppDropdownDirective */ define([&quot;underscore&quot;, &quot;bootstrap&quot;], function() { /** * The controller governing the directive's state and it's interaction with * the outside world * @constructor * @param $scope a reference to the angularjs scope of the component */ AppDropdownController = function($scope) { this.isPlaceholder = true; if (this.type == undefined) this.type = &quot;radio&quot;; $scope.$watch(&quot;appDropdown.selected&quot;, this.selectedChangedHandler(), true); }; /** * Factory to create the controller; used as the .controller member of the * directive * @static * @param $scope a reference to the angularjs scope of the component */ AppDropdownController.factory = function($scope) { return new AppDropdownController($scope); }; /** * Select one item from the dropdown menu. If multiple items can be selected * toggle the item. * @param item the item to select */ AppDropdownController.prototype.select = function(item) { if (this.type == &quot;radio&quot;) { // only one item can be selected this.selected = item; } else if (this.type == &quot;checkbox&quot;) { // multiple items can be selected - toggle item on/off index = this.selected.indexOf(item); if (index &gt; -1) this.selected.splice(index, 1); else this.selected.push(item); } // invoke external callback (&quot;changed() is injected into the controller&quot;) this.changed(); }; /** * Check whether one item is already selected. * @param item the item to check */ AppDropdownController.prototype.isSelected = function(item) { if (this.type == &quot;radio&quot;) return item == this.selected; else return (this.selected.indexOf(item) &gt; -1); }; /** * Internal callback to react on change of selection; sets the internal * state, the display value of the dropdown, if it needs to display a * placeholder etc. */ AppDropdownController.prototype.selectedChangedHandler = function() { var self = this; return function() { if (self.type == &quot;radio&quot;) { self.isPlaceholder = (self.selected === undefined); if (!self.isPlaceholder) if (!self.property) self.display = self.selected; else self.display = self.selected[self.property]; } else if (self.type == &quot;checkbox&quot;) { self.isPlaceholder = (self.selected.length == 0); if (!self.property) self.display = self.selected.join(&quot;, &quot;); else self.display = _.pluck(self.selected, self.property).join(&quot;, &quot;); } } }; /** * The &amp;lt;app-dropdown&amp;gt;...&amp;lt;app-dropdown&amp;gt; directive. Supports the * following attributes: &lt;ul&gt; * &lt;li&gt;placeholder '@' - a string to display if no value is selected&lt;/li&gt; * &lt;li&gt;list '=' - an array of values where the user can select from&lt;/li&gt; * &lt;li&gt;selected '=' - a variable that will be bound to the selected item * &lt;/li&gt; * &lt;li&gt;property '@' - if the items where values can be selected from is a * complex object, a property that should be used as a label to display * &lt;/li&gt; * &lt;li&gt;type '@' - 'radio' or 'checkbox', depending if multiple values can be * selected&lt;/li&gt; * &lt;li&gt;changed '&amp;' - an external callback that is executed when the * selection changes&lt;/li&gt; * &lt;/ul&gt; * @constructor */ AppDropdownDirective = function() { this.restrict = &quot;E&quot;; this.templateUrl = &quot;templates/AppDropdown.html&quot;; this.scope = true; this.bindToController = { placeholder: &quot;@&quot;, list: &quot;=&quot;, selected: &quot;=&quot;, property: &quot;@&quot;, type: &quot;@&quot;, changed: &quot;&amp;&quot; }; this.controllerAs = &quot;appDropdown&quot;; this.controller = [&quot;$scope&quot;, AppDropdownController.factory]; }; /** * Factory to create the directive; used in the angular.directive call * @static * @param $scope a reference to the angularjs scope of the component */ AppDropdownDirective.factory = function($scope) { return new AppDropdownDirective($scope); }; return AppDropdownDirective; }); × Search results Close "},"AppExplainController.js.html":{"id":"AppExplainController.js.html","title":"Source: AppExplainController.js","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Source: AppExplainController.js /** * Exposes an AngularJS controller to retrieve the data for the explanatory * visualization and manage the interactive state of the visualization. * @module AppExplainController * @exports AppExplainController */ define([&quot;AppConstants&quot;], function(AppConstants) { /** * The controller retrieving the data for the explanatory visualization and * governing the interaction on this visualization. * @constructor */ AppExplainController = function($scope, $http, $location) { // memorize $http and $location service this.$http = $http; this.$location = $location; // currently we do not have any stories loaded or selected this.stories = undefined; this.selectedStory = undefined; // load all the stuff this.dataDir = AppConstants.DATA_DIR; this.loadSummary(this.dataDir + &quot;/&quot; + AppConstants.SUMMARY_FILE); this.loadStories(this.dataDir + &quot;/&quot; + AppConstants.SUMMARY_STORIES_FILE); // reset all the highlights this.resetHighlights(); // if we have a &quot;showStories&quot; parameter set in the URL, process it this.processUrlShowStories(); // show or hide storybox everytime the URL changes or the internal state for // showing the story box changes $scope.$on(&quot;$locationChangeSuccess&quot;, this.processUrlHandler()); $scope.$watch(&quot;appExplain.highlights.looseness&quot;, this.loosenessChangedHandler()); }; /** * Factory to create the directive; used in the angular.directive call. * @static */ AppExplainController.factory = function($scope, $http, $location) { return new AppExplainController($scope, $http, $location); }; /** * Resets all &quot;highlights&quot; back to normal, that means, no part of the * visualization will be highlighted/marked/zoomed-in etc. after calling this * method. */ AppExplainController.prototype.resetHighlights = function() { if (!this.highlights) this.highlights = {}; this.highlights.seriesId = undefined; this.highlights.x = undefined; this.highlights.xRange = [undefined, undefined]; }; /** * Loads the stories for the story box from an URL which is supplied to the * function. * @param storiesUrl the URL to load the stories data from */ AppExplainController.prototype.loadStories = function(storiesUrl) { this.$http.get(storiesUrl).success(this.storiesLoadedHandler()); }; /** * Returns a callback to be invoked with the JSON data as parameter after the * stories JSON file is loaded */ AppExplainController.prototype.storiesLoadedHandler = function() { var self = this; return function(data) { self.stories = data; if (data.length &gt; 0) { self.selectedStory = data[0]; self.highlights.looseness = 0; } self.processUrlShowStories(); }; }; /** * Loads the summary data for the visualization from an URL which is supplied * to the function. * @param summaryUrl the url of the summary (explorative) data */ AppExplainController.prototype.loadSummary = function(summaryUrl) { this.$http.get(summaryUrl).success(this.summaryLoadedHandler()); }; /** * Returns a callback to be invoked with the JSON data as parameter after the * visualization JSON file is loaded. */ AppExplainController.prototype.summaryLoadedHandler = function() { var self = this; return function(data) { self.summary = data; self.resetHighlights(); }; }; /** * Uses AngularJS's $location provider to resolve, if a &quot;showStories&quot; * parameter was given when loading the page and configures the &quot;highlights&quot; * object of the page in such a way, that the storybox can be eigher shown * or hidden. */ AppExplainController.prototype.processUrlShowStories = function() { this.showStories = (this.$location.search().showStories != 0); if (this.showStories) { this.highlights.looseness = 0; } else if (this.highlights.looseness &lt; 2) { this.highlights.looseness = 2; } else if (this.highlights.looseness === undefined) { this.highlights.looseness = 2; } }; /** * Returns a callback that should be invoked every time the * highlights.looseness property changes. This property signifies if the * storybox should be hidden or shown. Based on this, the callback updates * the URL to contain a specific &quot;showStories&quot; parameter. */ AppExplainController.prototype.loosenessChangedHandler = function() { var self = this; return function() { self.$location.search(&quot;showStories&quot;, self.highlights.looseness &gt;= 2 ? 0 : 1); }; }; /** * Returns a callback that should be invoked any time the URL search string * is changed. * @see module:AppExplainController~AppExplainController#processUrlShowStories */ AppExplainController.prototype.processUrlHandler = function() { var self = this; return function($event, $args) { self.processUrlShowStories(); }; }; return AppExplainController; }); × Search results Close "},"AppExploreController.js.html":{"id":"AppExploreController.js.html","title":"Source: AppExploreController.js","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Source: AppExploreController.js /** * Exposes an AngularJS controller to retrieve the data for the exploratory * visualization and manage the interactive state of the visualization. * @module AppExplainController * @exports AppExplainController */ define([&quot;AppConstants&quot;], function(AppConstants) { /** * The controller retrieving the data for the exploratory visualization and * governing the interaction on this visualization. * @constructor */ AppExploreController = function($scope, $http, $location) { // memorize $http and $location service this.$http = $http; this.$location = $location; // currently, we have no scenarios loaded and not scenarios selected this.scenarios = []; this.selectedScenario = undefined; this.dataDir = AppConstants.DATA_DIR; this.scenariosFile = AppConstants.SCENARIOS_FILE; // react everytime the selected scenarios, metrics or stories changed $scope.$watch(&quot;appExplore.selectedScenario&quot;, this.selectedScenarioChangedHandler()); $scope.$watch(&quot;appExplore.selectedMetrics&quot;, this.selectedMetricsChangedHandler(), true); // needs deep comparison $scope.$watch(&quot;appExplore.selectedStory&quot;, this.selectedStoryChangedHandler()); // react every time the URL search string changed $scope.$on(&quot;$locationChangeSuccess&quot;, this.processUrlHandler()); // reset highlights: currently nothing is highlighted this.resetHighlights(); // load scenarios this.loadScenarios(this.dataDir + &quot;/&quot; + this.scenariosFile); }; /** * Factory to create the directive; used in the angular.directive call. * @static */ AppExploreController.factory = function($scope, $http, $location) { return new AppExploreController($scope, $http, $location); }; /** * Loads the scenario file containing all the selectable scenarios from a URL * supplied to the function. * @param scenarioUrl the URL to load the scenarios file from */ AppExploreController.prototype.loadScenarios = function(scenarioUrl) { this.$http.get(scenarioUrl).success(this.scenariosLoadedHandler()); }; /** * Loads a metrics file containing the metrics data from a URL * supplied to the function. * @param metricsUrl the URL to load the metrics file from */ AppExploreController.prototype.loadMetrics = function(metricsUrl) { this.resetHighlights(); this.$http.get(metricsUrl).success(this.metricsLoadedHandler()); }; /** * Loads a stories file containing the stories from a URL * supplied to the function. * @param storiesUrl the URL to load the stories file from */ AppExploreController.prototype.loadStories = function(storiesUrl) { this.$http.get(storiesUrl).success(this.storiesLoadedHandler()); }; /** * Resets all &quot;highlights&quot; back to normal, that means, no part of the * visualization will be highlighted/marked/zoomed-in etc. after calling this * method. */ AppExploreController.prototype.resetHighlights = function() { if (!this.highlights) this.highlights = {}; this.highlights.seriesId = undefined; this.highlights.metric = undefined; this.highlights.x = undefined; this.highlights.xRange = [undefined, undefined]; this.highlights.looseness = 0; this.highlights.seriesesValues = {}; }; /** * Helper function to select a number of metrics from the loaded metrics * by its 'id' property. Can be used, e.g., if a storybox needs to display * certain metric graphs based on the story's 'metrics' property. * @param metricsIds an array of metric ids */ AppExploreController.prototype.selectMetricsById = function(metricsIds) { this.selectedMetrics = []; for (i in this.metrics) { if (metricsIds.indexOf(this.metrics[i].id) != -1) this.selectedMetrics.push(this.metrics[i]) } }; /** * Returns a callback to be invoked with the JSON data as parameter after a * metrics JSON file is loaded. */ AppExploreController.prototype.metricsLoadedHandler = function() { var self = this; return function(data) { self.metrics = data; // load stories, if stories are associated with this scenario if (self.selectedScenario.storiesFile) self.loadStories(self.dataDir + &quot;/&quot; + self.selectedScenario.storiesFile); }; }; /** * Returns a callback to be invoked with the JSON data as parameter after a * stories JSON file is loaded. */ AppExploreController.prototype.storiesLoadedHandler = function() { var self = this; return function(data) { self.stories = data; if (data.length &gt; 0) { self.selectedStory = data[0]; self.highlights.looseness = 0; } self.processUrlStoryId(); }; }; /** * Returns a callback to be invoked with the JSON data as parameter after the * scenarios JSON file is loaded. */ AppExploreController.prototype.scenariosLoadedHandler = function() { var self = this; return function(data) { self.scenarios = data; self.processUrlScenarioId(); }; }; /** * Returns a callback that should be invoked every time the user changes the * selected scenario. The callback updates the URL's search string and loads * all metrics associated with the scenario. */ AppExploreController.prototype.selectedScenarioChangedHandler = function() { var self = this; return function() { // reset metrics and stories self.metrics = undefined; self.stories = undefined; self.selectedMetrics = []; self.serieses = []; // reset highlights self.resetHighlights(); // if we actually do have a scenario selected if (self.selectedScenario !== undefined) { // ... update the URL's search string self.$location.search(&quot;scenarioId&quot;, self.selectedScenario.id); // load metrics self.loadMetrics(self.dataDir + &quot;/&quot; + self.selectedScenario.dataFile); } }; }; /** * Returns a callback that should be invoked every time the user changes the * selected story. The callback updates the URL's search string to contain * a reference to that story. */ AppExploreController.prototype.selectedStoryChangedHandler = function() { var self = this; return function() { if (self.selectedStory !== undefined) self.$location.search(&quot;storyId&quot;, self.selectedStory.id); } }; /** * Returns a callback that should be invoked every time the user changes the * selected metrics. The callback updates an internal array &quot;serieses&quot; * that contains all the serieses of all the metrics. */ AppExploreController.prototype.selectedMetricsChangedHandler = function() { var self = this; return function() { self.serieses = []; for (i in self.selectedMetrics) for (j in self.selectedMetrics[i].serieses) self.serieses.push(self.selectedMetrics[i].serieses[j]) } }; /** * Returns a callback that should be invoked every time the URL's search * string changes. The callback processes the URL-parameters 'scenarioId' and * 'storyId'. * @see module:AppExploreController~AppExploreController#processUrlScenarioId * @see module:AppExploreController~AppExploreController#processUrlStoryId */ AppExploreController.prototype.processUrlHandler = function() { var self = this; return function($event, $args) { self.processUrlScenarioId(); self.processUrlStoryId(); } }; /** * Updates the selected scenario based on the URL's search parameter * 'scenarioId'. */ AppExploreController.prototype.processUrlScenarioId = function() { var scenarioId = this.$location.search().scenarioId, scenario = undefined; for (i in this.scenarios) if (this.scenarios[i].id == scenarioId) scenario = this.scenarios[i]; this.selectedScenario = scenario; }; /** * Updates the selected story based on the URL's search parameter 'storyId'. */ AppExploreController.prototype.processUrlStoryId = function() { var storyId = this.$location.search().storyId, story = undefined; if (this.stories &amp;&amp; this.stories.length &gt; 0) { for (i in this.stories) if (this.stories[i].id == storyId) story = this.stories[i]; if (story === undefined &amp;&amp; this.selectedStory === undefined) this.selectedStory = this.stories[0]; } }; return AppExploreController; }); × Search results Close "},"AppHelper.js.html":{"id":"AppHelper.js.html","title":"Source: AppHelper.js","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Source: AppHelper.js /** * Helper module to assist with helper functions, e.g. for transforming data * @module AppHelper * @exports AppHelper */ define([], function() { /** * Helper singleton containing all one-time static functions * @constructor */ AppHelper = {}; /** * Function to reshape a series object from containing column-wise data like * x: [0,1,2,3], y: [2,3,4,5], t: [5,6,7,8] to row-wise data like * values: [&amp;#123;0,2,5&amp;#125;, &amp;#123;1,3,6&amp;#125;, ...] etc. * @param xKey the x property name to use in the original data * @param yKey the y property name to use in the original data * @param tKey the t property name to use in the original data */ AppHelper.getSeriesDataTransformer = function(xKey, yKey, tKey) { return function(data) { return data.serieses.map(function(series) { series.values = []; for (var i = 0; i &lt; series[xKey].length; i++) { value = { x: series[xKey][i], y: series[yKey][i] }; if (tKey !== undefined) value.t = series[tKey][i]; series.values.push(value); } return series; }); } }; /** * Function to trim all white space from around a SVG DOM element * @param svg the SVG DOM element */ AppHelper.trimSvg = function(svg) { bbox = svg[0].getBBox(); vbox = [bbox.x, bbox.y, bbox.width, bbox.height].join(&quot; &quot;); svg[0].setAttribute(&quot;viewBox&quot;, vbox); svg[0].removeAttribute(&quot;height&quot;); svg[0].removeAttribute(&quot;width&quot;); }; return AppHelper; }); × Search results Close "},"AppMainController.js.html":{"id":"AppMainController.js.html","title":"Source: AppMainController.js","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Source: AppMainController.js /** * Main controller for the DAND6 angularjs application; makes sure that all * the navigational information from the route provider are in the main scope * @module AppMainController * @exports AppMainController */ define([], function() { /** * The main controller, populates the properties routes and * currentRoute which can be used to layout a navigation * @constructor */ AppMainController = function($scope, $route) { this.$scope = $scope; this.$route = $route; this.setRoutes(); this.updateCurrentRouteHandler()(); $scope.$watch(&quot;main.$route.current&quot;, this.updateCurrentRouteHandler()); }; /** * Factory to create the directive; used in the angular.directive call * @static */ AppMainController.factory = function($scope, $route) { return new AppMainController($scope, $route); }; /** * Derive a navigational structure from the information stored in the angular * $route provider (see AppConfigurator, where this component is configured). * Put that navigational structure into the &quot;routes&quot; property of the * controller. * @see module:AppConfigurator~AppConfigurator */ AppMainController.prototype.setRoutes = function() { var self = this; this.routes = []; ids = []; angular.forEach(self.$route.routes, function (route, path) { // only add an element to &quot;routes&quot; if it has an &quot;id&quot; we did not come // across yet if (route.id !== undefined &amp;&amp; !(route.id in ids)) { self.routes.push({ path: path, id: route.id, name: route.name, redirectTo: route.redirectTo }); ids.push(route.id); } }); }; /** * Return callback to be invoked in case the currently selected page is * changed (that is, if $route.current changes). Callback will populate those * changes to the &quot;currentRoute&quot; property of the controller. */ AppMainController.prototype.updateCurrentRouteHandler = function() { var self = this; return function() { if (self.$route.current === undefined) self.currentRoute = undefined; else { self.currentRoute = { id: self.$route.current.id, name: self.$route.current.name }; } }; }; return AppMainController; }); × Search results Close "},"AppMetricDirective.js.html":{"id":"AppMetricDirective.js.html","title":"Source: AppMetricDirective.js","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Source: AppMetricDirective.js /** * Exposes the AngularJS code of the &amp;lt;app-metric&amp;gt; directive which * displays a exploratory graph. Uses a derivative of the AppChartController * controller/module to place an AppChart object in the element reserved by the * directive. * @module AppMetricDirective * @exports AppMetricDirective */ define([&quot;AppHelper&quot;, &quot;AppChartController&quot;, &quot;AppConstants&quot;], function(AppHelper, AppChartController, AppConstants) { /** * Sets up a controller to glue together the generic AppChart chart drawing * component with the &amp;lt;app-metric&amp;gt; AngularJS directive &amp; scope. Enhances * the AppChartController by some functionality like linking together the x- * axis of various graphs, populating selected values to other directives * listening to seriesesValuesChanged events etc. * @constructor * @extends module:AppChartController~AppChartController * @param $scope the AngularJS scope of the directive where the chart should * be placed. * @param $element the DOM element of the directive * @param ctrlName the name of the controller in the angularjs scope */ AppMetricController = function($scope, $element, ctrlName) { // call super AppChartController.call(this, $scope, $element, ctrlName); // add handlers for listening for selection of different metrics, zooming/ // panning together on the x-axis and change of the &quot;looseness&quot; parameter. n = ctrlName; $scope.$watch(n + &quot;.highlights.metricId&quot;, this.highlightsUpdatedHandler()); $scope.$watch(n + &quot;.highlights.metricId&quot;, this.seriesesValuesUpdatedHandler()); $scope.$watch(n + &quot;.highlights.x&quot;, this.seriesesValuesUpdatedHandler()); $scope.$watch(n + &quot;.highlights.xRange&quot;, this.xRangeUpdatedHandler()); $scope.$watch(n + &quot;.highlights.looseness&quot;, this.loosenessUpdatedHandler()); }; AppMetricController.prototype = Object.create(AppChartController.prototype); /** * Returns the factory function of the controller. The factory is used in * the directives .controller property. You have to specify some &quot;options&quot; * to the factory. The factory callback returned will accept exactly two * parameters: $scope and $element. * @static * @param options - see AppChartController.getFactory */ AppMetricController.getFactory = function(ctrlName) { return function($scope, $element) { return new AppMetricController($scope, $element, ctrlName); }; }; /** * This function must be called when the directive using this controller links * the directive to a DOM element. It takes care of actually drawing the * chart into the DOM element. * @param chartOptions the chart options to create the AppChart with * @param dataTransformer the data transform function to apply to the data * before the chart is drawn */ AppMetricController.prototype.link = function(dataTransformer, chartOptions) { // call super AppChartController.prototype.link.call(this, dataTransformer, chartOptions); // add handlers for mouse enter / exit to be able to react to mouse // hovering over one of the many metric graphs this.chart.attachMouseEnterHandler(this.metricHighlightedHandler()); this.chart.attachMouseLeaveHandler(this.metricUnhighlightedHandler()); }; /** * Returns a callback that can be invoked if the highlights object supplied * to the directive / controller is changed. Will delegate the highlight * change to the included AppChart object. */ AppMetricController.prototype.highlightsUpdatedHandler = function() { // extends the super handler but adds addtitional functionality of // highlighting / unhighlighting a complete metrics chart. var superHandler = AppChartController.prototype.highlightsUpdatedHandler.call(this); var self = this; return function() { superHandler(); if (self.chart) { var highlightThisChart = (self.data.id == self.highlights.metricId); self.chart.highlight({ thisChart: highlightThisChart }); } } }; /** * Returns a callback that can be invoked if a datapoint is selected. Will * update the highlights.seriesesValues object accordingly. */ AppMetricController.prototype.seriesesValuesUpdatedHandler = function() { var self = this; return function() { // did we highlight anything at all in any graph? anyPointHighlighted = self.highlights.x; // have we highlighted this graph or are we in another graph? thisMetricHighlighted = (self.highlights.metricId === self.data.id); if (!anyPointHighlighted) // we did not highlight anything at all - remove all highlighted points self.highlights.seriesesValues = {}; else { // find the point corresponding to (highlights.x, highlights.y) var serieses = self.data.serieses, values = self.chart.getNearest( self.highlights.x, self.highlights.y), currentValues = self.highlights.seriesesValues; newValues = {}; // create a &quot;newValues&quot; seriesesValues array with the content of the // old elements for (seriesId in currentValues) newValues[seriesId] = currentValues[seriesId]; // but overwrite all the values we obtained from this graph for (seriesId in values) newValues[seriesId] = values[seriesId]; // save this array of values into the highlights.seriesesValues object // this might actually happen multiple times until all metric graphs // had the chance to update their data points. self.highlights.seriesesValues = newValues; } }; }; /** * Returns a callback that should be invoked any time the x/y extent changes * because the user zooms or pans in the graph. Updates the highlights object * (xRange property) and the &quot;looseness&quot; property accordingly. */ AppMetricController.prototype.zoomedPannedHandler = function() { var superHandler = AppChartController.prototype.zoomedPannedHandler.call(this); var self = this; return function(minX, maxX, minY, maxY) { superHandler(minX, maxX, minY, maxY); self.$scope.$apply(function() { if (self.highlights.looseness &lt; 3) self.highlights.looseness = 3; }); }; }; /** * Returns a callback that should be invoked any time a metric graph as a * whole is highlighted (mouseover'ed). Updates the highlights.metricId object * accordingly. */ AppMetricController.prototype.metricHighlightedHandler = function() { var self = this; return function() { self.$scope.$apply(function() { self.highlights.metricId = self.data.id; if (self.highlights.looseness &lt; 1) self.highlights.looseness = 1; }); }; }; /** * Returns a callback that should be invoked any time a metric graph as a * whole is unhighlighted (mouseout'ed). Updates the highlights.metricId * object accordingly. */ AppMetricController.prototype.metricUnhighlightedHandler = function() { var self = this; return function() { self.$scope.$apply(function() { self.highlights.metricId = undefined; if (self.highlights.looseness &lt; 1) self.highlights.looseness = 1; }); }; }; /** * The &amp;lt;app-metric&amp;gt; directive. Supports the following attributes: &lt;ul&gt; * &lt;li&gt;highlights '=' - the highlights object representing the internal * visualization status&lt;/li&gt; * &lt;li&gt;metric '=' - the data object to visualize&lt;/li&gt; * &lt;/ul&gt; * @constructor */ AppMetricDirective = function() { this.require = [&quot;^^appMetrics&quot;]; this.restrict = &quot;E&quot;; this.templateUrl = &quot;templates/AppMetric.html&quot;; this.scope = true; this.bindToController = { data: &quot;=metric&quot;, highlights: &quot;=&quot; }; this.controllerAs = &quot;appMetric&quot;; // create the controller based on the AppMetricController class this.controller = [&quot;$scope&quot;, &quot;$element&quot;, AppMetricController.getFactory(this.controllerAs)]; }; /** * Factory to create the directive; used as the angularjs.directive call. * @static */ AppMetricDirective.factory = function() { return new AppMetricDirective(); }; /** * The &quot;link&quot; function to be invoked when the directive is attached to an * element. Will take care that the controller will draw the chart using the * AppChart methods. */ AppMetricDirective.prototype.link = function( $scope, $element, $attrs, $controllers, $transclude ) { dataTransformer = AppHelper.getSeriesDataTransformer(&quot;time&quot;, &quot;data&quot;); chartOptions = { xlabel: &quot;time&quot;, xunit: &quot;s&quot;, ylabel: $scope.appMetric.data.label, yunit: $scope.appMetric.data.unit, colorMap: $scope.appMetric.data.dataColorMap, graphType: &quot;line&quot;, baseDir: AppConstants.DATA_DIR }; $scope.appMetric.link(dataTransformer, chartOptions); }; return AppMetricDirective; }); × Search results Close "},"AppMetricsDirective.js.html":{"id":"AppMetricsDirective.js.html","title":"Source: AppMetricsDirective.js","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Source: AppMetricsDirective.js /** * Defines the &amp;lt;app-metrics&amp;gt;...&amp;lt;/app-metrics&amp;gt; directive which serves * as a container for many &amp;lt;app-metric /&amp;lt; directives, each displaying a * metric chart. * @module AppMetricsDirective * @exports AppMetricsDirective */ define([], function() { /** * The controller governing the directive's state and it's interaction with * the outside world. * @constructor */ AppMetricsController = function() { }; /** * Factory to create the controller; used as the .controller member of the * directive. * @static */ AppMetricsController.factory = function() { return new AppMetricsController(); }; /** * Defines the &amp;lt;app-metrics&amp;gt;...&amp;lt;/app-metrics&amp;gt; directive. Accepts * the following attributes:&lt;ul&gt; * &lt;li&gt;metrics '=' - reference to a metrics object containing all displayable * metrics&lt;/li&gt; * &lt;li&gt;highlights '=' - reference to a highlights object holding the current * interaction &amp;amp; display state of the visualization.&lt;/li&gt; * &lt;/ul&gt; * @constructor */ AppMetricsDirective = function() { this.templateUrl = &quot;templates/AppMetrics.html&quot;; this.transclude = true; this.restrict = &quot;E&quot;; this.scope = true; this.bindToController = { metrics: &quot;=&quot;, highlights: &quot;=&quot; }; this.controllerAs = &quot;appMetrics&quot;; this.controller = [AppMetricsController.factory]; }; /** * Factory to create the directive; used in the angular.directive call * @static */ AppMetricsDirective.factory = function() { return new AppMetricsDirective(); }; return AppMetricsDirective; }); × Search results Close "},"AppRoutesDirective.js.html":{"id":"AppRoutesDirective.js.html","title":"Source: AppRoutesDirective.js","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Source: AppRoutesDirective.js /** * Defines the app-routes directive that is used to display a navigation * @module AppRoutesDirective * @exports AppRoutesDirective */ define([&quot;bootstrap&quot;], function() { /** * The controller governing the directive's state and it's interaction with * the outside world. * @constructor */ AppRoutesController = function() { } /** * Factory to create the controller; used as the .controller member of the * directive * @static */ AppRoutesController.factory = function() { return new AppRoutesController(); } /** * The &amp;lt;app-routes&amp;gt;...&amp;lt;app-routes&amp;gt; directive. Supports the * following attributes: &lt;ul&gt; * &lt;li&gt;current '=' - a variable containing the current route&lt;/li&gt; * &lt;li&gt;all '=' - a variable containing all current routes&lt;/li&gt; * &lt;li&gt;title '@' - a string to show as a header of the navigation&lt;/li&gt; * &lt;/ul&gt; * See AppConfigurator.js for a detailled description of the routes objects * @constructor */ AppRoutesDirective = function() { this.restrict = &quot;E&quot;; this.templateUrl = &quot;templates/AppRoutes.html&quot;; this.scope = true; this.bindToController = { current: &quot;=&quot;, all: &quot;=&quot;, title: &quot;@&quot; }; this.controllerAs = &quot;appRoutes&quot;; this.controller = [AppRoutesController.factory]; }; /** * Factory to create the directive; used in the angular.directive call * @static */ AppRoutesDirective.factory = function() { return new AppRoutesDirective(); }; return AppRoutesDirective; }); × Search results Close "},"AppSchematicsDirective.js.html":{"id":"AppSchematicsDirective.js.html","title":"Source: AppSchematicsDirective.js","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Source: AppSchematicsDirective.js /** * Defines the app-schematics directive that is used to display a SVG with * flexible content populated with series values from a visualization. * @module AppSchematicsDirective * @exports AppSchematicsDirective */ define([], function() { /** * The controller governing the directive's state and it's interaction with * the outside world. * @constructor * @param $scope a reference to the angularjs scope of the component * @param $element a reference to the element the component is assigned to */ AppSchematicsController = function($scope, $element) { this.$element = $element; this.$scope = $scope; $scope.$watch(&quot;appSchematics.highlights.seriesesValues&quot;, this.seriesesValuesChangedHandler()); }; /** * Factory to create the controller; used as the .controller member of the * directive * @static * @param $scope a reference to the angularjs scope of the component * @param $element a reference to the element the component is assigned to */ AppSchematicsController.factory = function($scope, $element) { return new AppSchematicsController($scope, $element); }; /** * Retrieve the currently highlighted series - used by sub-controllers in * directives transcluded into this directive. These directives are not * necessarily aware of the highlights object supplied to the * app-schematics directive. */ AppSchematicsController.prototype.getHighlightedSerId = function() { return this.highlights.seriesId; }; /** * Set the currently highlighted series - used by sub-controllers in * directives transcluded into this directive. These directives are not * necessarily aware of the highlights object supplied to the * app-schematics directive. */ AppSchematicsController.prototype.setHighlightedSerId = function(value) { this.highlights.seriesId = value; if (this.highlights.looseness &lt; 1) this.highlights.looseness = 1; }; /** * Returns the array of available serieses - used by sub-controllers in * directives transcluded into this directive. These directives are not * necessarily aware of the highlights object supplied to the * app-schematics directive. */ AppSchematicsController.prototype.getSerieses = function() { return this.serieses; }; /** * Return the source URL of the SVG graph to be displayed. This is * concatenated by the attribute &quot;dir&quot; and &quot;svg&quot; supplied to the directive. */ AppSchematicsController.prototype.getSrcUrl = function() { return (this.dir ? this.dir + &quot;/&quot; : &quot;&quot;) + this.svg; }; /** * Invoked if a SVG is loaded; trims the SVG from its whitespace and * populates it with the current series values. */ AppSchematicsController.prototype.loaded = function() { svg = this.$element.find(&quot;svg&quot;); AppHelper.trimSvg(svg); this.$scope.$broadcast(&quot;seriesesValuesChanged&quot;, {}); }; /** * Returns callback that is invoked every time a other series values * are detected in the highlights object and will broadcast this as an * event to child scopes so that other directives can catch the event from * there without having knowledge about the highlights object. * @param values an array of series values */ AppSchematicsController.prototype.seriesesValuesChangedHandler = function(values) { var self = this; return function(values) { if (values) { self.$scope.$broadcast(&quot;seriesesValuesChanged&quot;, values); } } }; /** * The &amp;lt;app-schematics&amp;gt;...&amp;lt;app-schematics&amp;gt; directive. Supports the * following attributes: &lt;ul&gt; * &lt;li&gt;svg '=' - a variable holding the SVG URL to be displayed &lt;/li&gt; * &lt;li&gt;serieses '=' - an array of serieses with their properties&lt;/li&gt; * &lt;li&gt;highlights '=' - the highlights object to exchange information * about the visualization highlight state&lt;/li&gt; * &lt;li&gt;dir '@' - the directory where the SVG URL (attribute 'svg') is * based on&lt;/li&gt; * &lt;/ul&gt; * @constructor */ AppSchematicsDirective = function() { this.restrict = &quot;E&quot;; this.templateUrl = &quot;templates/AppSchematics.html&quot;; this.bindToController = { svg: &quot;=&quot;, serieses: &quot;=&quot;, highlights: &quot;=&quot;, dir: &quot;@&quot; }, this.controllerAs = &quot;appSchematics&quot;; this.controller = [&quot;$scope&quot;, &quot;$element&quot;, AppSchematicsController.factory]; }; /** * Factory to create the directive; used in the angular.directive call * @static * @param $scope a reference to the angularjs scope of the component */ AppSchematicsDirective.factory = function() { return new AppSchematicsDirective(); }; return AppSchematicsDirective; }); × Search results Close "},"AppStoriesDirective.js.html":{"id":"AppStoriesDirective.js.html","title":"Source: AppStoriesDirective.js","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Source: AppStoriesDirective.js /** * Defines the app-stories directive that is used to display a &quot;story-box&quot; - a * number of narratives the user can step through in a window on the website * which highlight different parts of the graph at different points in the * narrative. * @module AppStoriesDirectives * @exports AppStoriesDirectives */ define([&quot;bootstrap&quot;], function() { /** * The controller governing the directive's state and it's interaction with * the outside world. * @constructor * @param $scope a reference to the angularjs scope of the component * @param $element a reference to the element the component is assigned to */ AppStoriesController = function($scope, $element) { this.$scope = $scope; this.$element = $element; if (this.autohide === undefined) this.autohide = true; if (this.explore === undefined) this.explore = false; $scope.$watch(&quot;appStories.highlights.looseness&quot;, this.tellStoryHandler()); $scope.$watch(&quot;appStories.story&quot;, this.tellStoryHandler()); }; /** * Factory to create the controller; used as the .controller member of the * directive * @static * @param $scope a reference to the angularjs scope of the component * @param $element a reference to the element the component is assigned to */ AppStoriesController.factory = function($scope, $element) { return new AppStoriesController($scope, $element) }; /** * Function to set the controller attributes to jump to a specific stories * @param storyId the story to jump to */ AppStoriesController.prototype.goToStory = function(storyId) { for (i in this.stories) if (this.stories[i].id == storyId) { this.story = this.stories[i]; this.highlights.looseness = 0; } }; /** * Function to &quot;tell the current story&quot; - is invoked every time the current * story changed and plugs all values from the story object and transforms * them to the highlight object so that the areas of a graph are highlighted. * Only tells the story if highlights.looseness &lt; 2. */ AppStoriesController.prototype.tellStoryHandler = function() { var self = this; return function() { if (self.highlights.looseness &lt; 2 &amp;&amp; self.story) { self.highlights.seriesesValues = []; // first bring up any metrics that are needed if (self.story.metrics &amp;&amp; self.metricsselector) self.metricsselector({metrics: self.story.metrics}); // the following can really happen in any arbitrary order // zoom in to a specific x range if (self.story.xRange) self.highlights.xRange = self.story.xRange; // highlight a certain series if (self.story.series) self.highlights.seriesId = self.story.series; // highlight a certain metric if (self.story.metric) self.highlights.metricId = self.story.metric; // highlight a certain x/y coordinate or a point close to it if (self.story.x) self.highlights.x = self.story.x; if (self.story.y) self.highlights.y = self.story.y; // put certain hotspots onto the graph if (self.story.hotspots) self.highlights.hotspots = self.story.hotspots; else self.highlights.hotspots = []; } else if (self.highlights.looseness &gt; 2 &amp;&amp; self.story) { // remove hotspots if no story is told at the moment self.highlights.hotspots = false; } } }; /** * The &amp;lt;app-stories&amp;gt;...&amp;lt;app-stories&amp;gt; directive. Supports the * following attributes: &lt;ul&gt; * &lt;li&gt;stories '=' - an array of stories objects, e.g. from a stories * json file - see tellStoryHandler(...) for a list of properties * a story supports &lt;/li&gt; * &lt;li&gt;story '=' - the currently selected story&lt;/li&gt; * &lt;li&gt;highlights '=' - the highlights object containing the state of * interaction context the user uses the visualization environment * in right now&lt;/li&gt; * &lt;li&gt;homeurl '@' - supply an URL here if you want the user to have the * option to return to an overview page from the stories&lt;/li&gt; * &lt;li&gt;metricsselector '&amp;' - a callback to invoke with a value of * metric ids when a story demands a specific sets of metrics to be * shown.&lt;/li&gt; * &lt;li&gt;explore '@' - supply an URL here if you want the user to have the * option to go to a more exploratory visualization from the story * box&lt;/li&gt; * &lt;/ul&gt; * @constructor */ AppStoriesDirective = function() { this.require = []; this.restrict = &quot;E&quot;; this.templateUrl = &quot;templates/AppStories.html&quot;; this.scope = true; this.bindToController = { stories: &quot;=&quot;, story: &quot;=&quot;, highlights: &quot;=&quot;, homeurl: &quot;@&quot;, metricsselector: &quot;&amp;&quot;, explore: &quot;@&quot; }; this.controllerAs = &quot;appStories&quot;; this.controller = [&quot;$scope&quot;, &quot;$element&quot;, AppStoriesController.factory]; }; /** * Factory to create the directive; used in the angular.directive call * @static */ AppStoriesDirective.factory = function() { return new AppStoriesDirective(); }; return AppStoriesDirective; }); × Search results Close "},"AppTranscopeDirective.js.html":{"id":"AppTranscopeDirective.js.html","title":"Source: AppTranscopeDirective.js","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Source: AppTranscopeDirective.js /** * Defines the ng-transcope directive - a directive to make the outer scope * available to elements transcluded by a directive; this allows us to re-use * the outer scope in the transcluded elements but have an isolated scope in the * template. * @module AppTranscopeDirective * @exports AppTranscopeDirective */ define([], function() { /** * Defines the ng-transcope directive that may be used as attribute or element * @constructor */ AppTranscopeDirective = function() { }; /** * Factory to create the directive; used in the angular.directive call * @static */ AppTranscopeDirective.factory = function() { return new AppTranscopeDirective(); }; /** * Standard directive link making use of the supplied $transclude function */ AppTranscopeDirective.prototype.link = function( $scope, $element, $attrs, $controllers, $transclude ) { if ( !$transclude ) { throw minErr( 'ngTransclude' )( 'orphan', 'Illegal use of ngTransclude directive in the template! ' + 'No parent directive that requires a transclusion found. ' + 'Element: {0}', startingTag( $element )); } var innerScope = $scope.$new(); $transclude( innerScope, function( clone ) { $element.empty(); $element.append( clone ); $element.on( '$destroy', function() { innerScope.$destroy(); }); }); }; return AppTranscopeDirective; }); × Search results Close "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Modules Classes AppChartController AppSummaryDirective AppChart AppGraphStrategy AppLineGraph AppScatterGraph AppConfigurator AppDropdownController AppDropdownDirective AppExplainController AppExploreController AppHelper AppMainController AppMetricController AppMetricDirective AppMetricsController AppMetricsDirective AppRoutesController AppRoutesDirective AppSchematicsController AppSchematicsDirective AppSeriesClassManipulator AppSeriesColorManipulator AppSeriesController AppSeriesDimensionManipulator AppSeriesDirective AppSeriesManipulator AppSeriesTextManipulator AppStoriesController AppStoriesDirective AppTranscopeDirective × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Classes Classes AppChartController AppSummaryDirective AppChart AppGraphStrategy AppLineGraph AppScatterGraph AppConfigurator AppDropdownController AppDropdownDirective AppExplainController AppExploreController AppHelper AppMainController AppMetricController AppMetricDirective AppMetricsController AppMetricsDirective AppRoutesController AppRoutesDirective AppSchematicsController AppSchematicsDirective AppSeriesClassManipulator AppSeriesColorManipulator AppSeriesController AppSeriesDimensionManipulator AppSeriesDirective AppSeriesManipulator AppSeriesTextManipulator AppStoriesController AppStoriesDirective AppTranscopeDirective × Search results Close "},"tutorials.list.html":{"id":"tutorials.list.html","title":"Tutorials","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Tutorials Classes AppChartController AppSummaryDirective AppChart AppGraphStrategy AppLineGraph AppScatterGraph AppConfigurator AppDropdownController AppDropdownDirective AppExplainController AppExploreController AppHelper AppMainController AppMetricController AppMetricDirective AppMetricsController AppMetricsDirective AppRoutesController AppRoutesDirective AppSchematicsController AppSchematicsDirective AppSeriesClassManipulator AppSeriesColorManipulator AppSeriesController AppSeriesDimensionManipulator AppSeriesDirective AppSeriesManipulator AppSeriesTextManipulator AppStoriesController AppStoriesDirective AppTranscopeDirective × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph WelcomeThis documentation is for the curious mind who wants to understand and potentially re-use the code of this visualization. Feel free to browse the modules and classes of the project. How to startBefore diving into the API Doc and into the code, there are a few conceptual documents listed under &quot;Tutorials&quot; that I recommend reading to get a general understanding about the source code: File &amp; Directory Structure contains a general &quot;what is where&quot; of the repository. Terminology describes a number of clearly defined concepts you see on the screen of the application. JSON Class Structure of Data Files contains the file structure of the visualized data and may be especially useful for readers that want to swap out the dataset with other data. Components of the Application describes the components you see on the web application. This application uses AngularJS, a framework that lets us define &quot;extensions&quot; to HTML and attach custom behaviours to those new elements. For drawing the charts, dropdowns, battery schematics etc. this is heavily used. Interaction of the Components explains how the components described above exchange data so they all update simultaneously and thusly provide a consistent user experience. Layers in the AppChart D3.js Graph goes into deeper detail about how our chart implementation's internal SVG layering is designed so that all small things of the chart, like axes, labels, data points etc. all fall into place at the right position. Frameworks Used &amp; Copyrights Bootstrap (MIT License) Bootstrap Sass jQuery (MIT License) AngularJS (MIT License) D3.js (BSD License) Requirejs (New BSD or MIT License) Underscore (License) JSDoc (Apache License 2.0) JSDoc Bootstrap / Docstrap (License) ElementQueries, ResizeSensor For development: Grunt NodeJS grunt-contrib-requirejs grunt-jsdoc Jade Sass × Search results Close "},"module-AppChart.html":{"id":"module-AppChart.html","title":"Module: AppChart","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Module: AppChart A module to represent a chart drawn by d3.js into a DOM container which canhave some data bound to it and some interactivity applied to it. Source: AppChart.js, line 1 Classes AppChart AppGraphStrategy AppLineGraph AppScatterGraph × Search results Close "},"module-AppChartController.html":{"id":"module-AppChartController.html","title":"Module: AppChartController","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Module: AppChartController Exposes a controller to be used with AngularJS directives in order to drawa visualization graph using the AppChart class &amp; D3.js. The controllertakes care about feeding the angular.js variables from the directive intothe AppChart object and modifying them when interacting with the chart. Source: AppChartController.js, line 1 Classes AppChartController × Search results Close "},"module-AppChartController-AppChartController.html":{"id":"module-AppChartController-AppChartController.html","title":"Class: AppChartController","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Class: AppChartController AppChartController~ AppChartController new AppChartController($scope, $element, ctrlName) Sets up a controller to glue together the generic AppChart chart drawingcomponent with an AngularJS directive &amp; scope. The directive that uses thiscontroller must bind the following scope variables to the controller: highlights - the highlights object representing the internal visualization status data - the data object to visualize Parameters: Name Type Description $scope the AngularJS scope of the directive where the chart should be placed. $element the DOM element of the directive ctrlName the name of the controller in the angularJS scope Source: AppChartController.js, line 25 Methods &lt;static&gt; getFactory(ctrlName) Returns the factory function of the controller. The factory is used inthe directives .controller property. You have to specify some &quot;options&quot;to the factory. The factory callback returned will accept exactly twoparameters: $scope and $element. Parameters: Name Type Description ctrlName the name of the controller object in the AngularJS scope Source: AppChartController.js, line 45 dataUpdated() To be called if the data property of the associated data object in thedirective / controller is changed or initialized. Source: AppChartController.js, line 86 fitChart() Initializes the display area (x- and y-axis domain) of the chart basedon whether the highlights object specifies an area the chart shouldnavigate to via the xRange property and base on whether the highlightobject's &quot;looseness&quot; property dictates that the chart should be re-fitto the maximum viewable area. Source: AppChartController.js, line 117 highlightsUpdatedHandler() Returns a callback that can be invoked if the highlights object suppliedto the directive / controller is changed. Will delegate the highlightchange to the included AppChart object. Source: AppChartController.js, line 96 link(chartOptions, dataTransformer) This function must be called when the directive using this controller linksthe directive to a DOM element. It takes care of actually drawing thechart into the DOM element. Parameters: Name Type Description chartOptions the chart options to create the AppChart with dataTransformer the data transform function to apply to the data before the chart is drawn Source: AppChartController.js, line 59 loosenessUpdatedHandler() Returns a callback that should be invoked any time the &quot;looseness&quot; valueof the highlights object is changed. The &quot;looseness&quot; value specifieswhich amount of &quot;guiding&quot; the UI should enforce (looseness = 0:storytelling mode, looseness 1 = storytelling mode with userstarting to explore the graph, looseness = 2: user has collapsed thestorytelling, looseness = 3: user has completely 'gone off on its own' andselected other metrics, zoomed/panned in the graph etc.) Source: AppChartController.js, line 262 seriesHighlightedHandler() Returns a callback that should be invoked any time a series is highlighted.The callback accepts exactly one parameter: the seriesId. Will take carethat the highlights object (seriesId and looseness) is updated accordingly. Source: AppChartController.js, line 177 seriesUnhighlightedHandler() Returns a callback that should be invoked any time a series isunhighlighted. The callback accepts exactly one parameter: the seriesId.Will take care that the highlights object (seriesId and looseness) isupdated accordingly. Source: AppChartController.js, line 194 xRangeUpdatedHandler() Returns a callback that should be invoked every time the highlights.xRangevalue is changed. Will take care that all charts scroll uniformely alongthe x axis. Source: AppChartController.js, line 161 xyHighlightedHandler() Returns a callback that should be invoked any time a x/y value in thegraph is highlighted (effectively, any time the mouse moves). Callbackwill accept a x and y domain coordinate as its 2 parameters and updatehighlights.x and highlights.y accordingly. Source: AppChartController.js, line 225 xyUnhighlightedHandler() Returns a callback that should be invoked any time the mouse leaves thegraph area or no point at all is highlighted in the graph. Source: AppChartController.js, line 241 zoomedPannedHandler() Returns a callback that should be invoked any time the x/y extent changesbecause the user zooms or pans in the graph. Updates the highlights object(xRange property) accordingly. Source: AppChartController.js, line 210 × Search results Close "},"module-AppChartPanel.html":{"id":"module-AppChartPanel.html","title":"Module: AppChartPanel","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Module: AppChartPanel Exposes the AngularJS code of the &lt;app-summary&gt; directive whichdisplays a summary / explanatory graph. Uses the AppChartControllercontroller/module to place an AppChart object in the element reserved by thedirective. Source: AppSummaryDirective.js, line 1 Classes AppSummaryDirective × Search results Close "},"module-AppChartPanel-AppSummaryDirective.html":{"id":"module-AppChartPanel-AppSummaryDirective.html","title":"Class: AppSummaryDirective","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Class: AppSummaryDirective AppChartPanel~ AppSummaryDirective new AppSummaryDirective() The &lt;app-summary&gt; directive. Supports the following attributes: highlights '=' - the highlights object representing the internal visualization status data '=' - the data object to visualize Source: AppSummaryDirective.js, line 20 Methods &lt;static&gt; factory() Factory to create the controller; used as the .controller member of thedirective. Source: AppSummaryDirective.js, line 39 link() The &quot;link&quot; function to be invoked when the directive is attached to anelement. Will take care that the controller will draw the chart using theAppChart methods. Source: AppSummaryDirective.js, line 48 × Search results Close "},"module-AppChart-AppChart.html":{"id":"module-AppChart-AppChart.html","title":"Class: AppChart","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Class: AppChart AppChart~ AppChart new AppChart(containerNode, options) A chart drawn using d3.js with axis, zooming &amp; panning functionality,display of different data serieses, highlight support etc. Parameters: Name Type Description containerNode the DOM node to contain the chart options a object of options - possible values include: colorMap - an array of pairs mapping a value to a color metricId - the metricId the values stem from xlabel - the caption of the x axis ylabel - the caption of the y axis title - the text of the graph title graphType - one of &quot;line&quot; or &quot;scatter&quot; baseDir - base directory to look into if urls are referenced from the data Source: AppChart.js, line 325 Methods attachMouseEnterHandler(f) Attach a callback to be invoked every time the mouse enters the graph Parameters: Name Type Description f the callback function Source: AppChart.js, line 1365 attachMouseLeaveHandler(f) Attach a callback to be invoked every time the mouse leaves the graph Parameters: Name Type Description f the callback function Source: AppChart.js, line 1373 attachMouseMovedHandler(f) Attach a callback to be invoked every time the mouse is moved inside thegraph Parameters: Name Type Description f the callback function Source: AppChart.js, line 1382 attachSeriesHighlightedHandler(f) Attach a callback to be invoked every time a series gets highlighted Parameters: Name Type Description f the callback function - can take one argument, the seriesId Source: AppChart.js, line 1340 attachSeriesUnhighlightedHandler(f) Attach a callback to be invoked every time a series gets unhighlighted Parameters: Name Type Description f the callback function - can take one argument, the seriesId Source: AppChart.js, line 1348 attachZoomedPannedHandler(f) Attach a callback to be invoked every time the graph is zoomed/panned Parameters: Name Type Description f the callback function - can take 4 arguments: minX, maxX, minY, maxY Source: AppChart.js, line 1357 bind(serieses, buildSeriesTransform) Binds data to the graph. Call this function from outside with a &quot;serieses&quot;dataset and, if you like, supply a buildSeriesTransform callback whichwill be applied to the serieses dataset before it is bound to thechart. Parameters: Name Type Description serieses the dataset to bind / show in the graph; this is an array of series objects with the following values: values: an array of points in the form {x:...,y:...[,t:...]} id: an id of the series markers: an array of markers in the form {x/y/t:...,coords:... } annotations: an array of annotations to display See the serieses documentation for more detail. buildSeriesTransform the callback function to apply to every series before it is bound to the chart Source: AppChart.js, line 478 dimensions(minX, maxX, minY, maxY) Pan the chart to a new x-/y-domain. ALL calls to rescale the graph to anew domain should go here; re-drawing / re-scaling of all elements, eventfiring etc. are done from here. Parameters: Name Type Description minX the new minX coordinate, supply undefined to leave unchanged maxX the new maxX coordinate, supply undefined to leave unchanged minY the new minY coordinate, supply undefined to leave unchanged maxY the new maxY coordinate, supply undefined to leave unchanged Source: AppChart.js, line 584 draggingXStartedHandler() Return internal callback invoked if started dragging on the x axis Source: AppChart.js, line 1192 draggingYStartedHandler() Return internal callback invoked if started dragging on the y axis Source: AppChart.js, line 1205 draw() Re-draw all the components. Shortcut to drawHandler()() Source: AppChart.js, line 760 See: module:AppChart~AppChart#drawHandler drawAnnotations(data, container) Redraws the graphs annotations. Needs to be supplied with an annotationarray. This method is usually called from the graph strategy. Parameters: Name Type Description data the annotation data to draw on the graph - an array of annotation objects, each with the following properties: lines - an array of text lines to display color - a color to fill the annotation with anchor - the text anchor (start, middle, end) container the container to draw the data into Source: AppChart.js, line 947 drawGrid() Redraws the graphs grid. Should be called any time the grid changedbecause of a zooming / panning event or rescaling of the graph container. Source: AppChart.js, line 782 drawHandler() Returns a callback that should be invoked every time the graph should beredrawn from scratch since it is re-scaled. Callback redraws all the layers(grids, serieses &amp; highlights) by using the respective draw&lt;...&gt;-methods. Source: AppChart.js, line 769 drawHighlights() Redraws the graphs highlights based on the internal highlight state Source: AppChart.js, line 1161 drawHotspots(data, container) Redraws the graphs hotspots. Needs to be supplied with an hotspot array anda container DOM object where to draw the objects into. This method iscalled from drawHighlights(...) since hotspots are considered highlights. Parameters: Name Type Description data the hotspot data to draw on the graph - an array of hotspot objects, each with the properties x0, y0, x1, y1 to specify the area that the hotspot may cover and the property &quot;seriesId&quot; signifying the series this hotspot belongs to. container the container to draw the hotspots into Source: AppChart.js, line 1127 drawMarkers(data, container, highlightedSeries) Redraws the graphs markers. Needs to be supplied with an marker array, acontainer DOM object to specify where to draw the markers into anda boolean stating whether this graph is highlighted or not. This method isusually called from the graph strategy. Parameters: Name Type Description data the marker data to draw on the graph - an array of marker objects, each with the following properties: x - the x value of the marker y - the y value of the marker t - the t value of the marker coords - an optional array of a combination of &quot;x&quot;, &quot;y&quot;, &quot;t&quot; to signify which labels need to be plotted next to the marker container the container to draw the data into highlightedSeries boolean to signify if the series is highlighted or not Source: AppChart.js, line 993 drawSerieses() Redraws the graphs data serieses. Call this every time the graph containerrescales. This method largely delegates toAppGraphStrategy.drawSerieses(...) Source: AppChart.js, line 888 drawStickers(data, container) Redraws the graphs stickers. Needs to be supplied with a sticker array.This method is usually called from the graph strategy. Parameters: Name Type Description data the sticker data to draw on the graph - an array of sticker objects, each with the following properties: x0, y0 - one corner to draw the sticker to x1, y1 - the diagonally opposite corner to draw the sticker to src - filename (relative to graphOptions.baseDir) of the sticker container the container to draw the stickers into Source: AppChart.js, line 917 getNearest(x, y, t) Get the nearest value for all series in a hashmap mapping seriesId toclosest point to the coordinates supplied Parameters: Name Type Description x the x coordinate to search close to y the y coordinate to search close to t the t coordinate (time) to search close to Source: AppChart.js, line 553 getSeriesFromId(seriesId) Returns a series with a series ID from the &quot;belly&quot; of the already boundchart data Parameters: Name Type Description seriesId the series to recall Source: AppChart.js, line 502 getXExtent(whitespace) Returns the [xmin, xmax] domain of the chart and adds some whitespaceif requested. If no data is present, the range will be 0.0-0.1 Parameters: Name Type Description whitespace the whitespace to add in a fraction of xmin-xmax Source: AppChart.js, line 513 getYExtent(whitespace) Returns the [ymin, ymax] domain of the chart and adds some whitespaceif requested. If no data is present, the range will be 0.0-0.1 Parameters: Name Type Description whitespace the whitespace to add in a fraction of xmin-xmax Source: AppChart.js, line 532 handleMouseEnter() Invoke all callbacks to handle the event of a mouse enter Source: AppChart.js, line 1422 handleMouseLeave() Invoke all callbacks to handle the event of a mouse leave Source: AppChart.js, line 1431 handleMouseMoved() Invoke all callbacks to handle the event of a mouse move Source: AppChart.js, line 1440 handleSeriesHighlighted(id) Invoke all callbacks to handle the event of a highlighted series Parameters: Name Type Description id the series that was highlighted Source: AppChart.js, line 1392 handleSeriesUnhighlighted(id) Invoke all callbacks to handle the event of a unhighlighted series Parameters: Name Type Description id the series that was unhighlighted Source: AppChart.js, line 1402 handleZoomedPanned() Invoke all callbacks to handle the event of a graph zoom/pan action Source: AppChart.js, line 1411 highlight(changedHighlights) Call this method if any part of the graph should be highlighted. Methodcalls &quot;drawHighlights(...)&quot; to redraw highlights if anything changed. Parameters: Name Type Description changedHighlights object with some of the following properties; Supply any property with &quot;false&quot; to unhighlight something: seriesId (string) - highlight any of the data serieses x (float) and y (float) - highlight any of the x/y values with a marker thisChart (boolean) - highlight this chart hotspots (object) - add hotspots to this chart Source: AppChart.js, line 725 mouseDraggedHandler() Return internal callback invoked if moving the mouse while dragging. Source: AppChart.js, line 1218 mouseEnterHandler() Return internal callback invoked if the mouse enters the graph area Source: AppChart.js, line 1315 mouseLeaveHandler() Return internal callback invoked if the mouse leaves the graph area Source: AppChart.js, line 1326 mouseMovedHandler() Return internal callback invoked if moving the mouse. Source: AppChart.js, line 1257 mouseReleasedHandler() Return internal callback invoked if the mouse is released after a draggingevent Source: AppChart.js, line 1292 resizeHandler() Same as scaleHandler(), but calls draw() afterwards. Callback to invokeeverytime the container size changes and not only a re-positioning of theelements, but a complete redraw is necessary. Source: AppChart.js, line 704 See: module:AppChart~AppChart#scaleHandler scale() Re-scale all the fixed position DOM nodes. Shortcut to scaleHandler()() Source: AppChart.js, line 612 See: module:AppChart~AppChart#scaleHandler scaleHandler() Returns a callback that should be invoked every time the x or y dimensions(domain or range) of the graph change. Some elements that are drawn on thechart are fixed-position DOM elements and need re-positioning byJavaScript. The callback returned by this function takes care of that. Source: AppChart.js, line 622 setup() Sets up the DOM nodes of the chart. Should not be called from outside,will be called by the constructor once on creation of the chart.All DOM nodes will be available using AppChart....Layer orAppChart....Node after calling this method. Source: AppChart.js, line 361 zoomHandler() Return internal callback invoked if the graph was zoomed by the d3.jsinternal zooming behaviour Source: AppChart.js, line 1273 × Search results Close "},"module-AppChart-AppGraphStrategy.html":{"id":"module-AppChart-AppGraphStrategy.html","title":"Class: AppGraphStrategy","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Class: AppGraphStrategy AppChart~ AppGraphStrategy &lt;abstract&gt; new AppGraphStrategy(chart) An abstract class to hold the specific algorighms to draw a chart.These are different for point charts, line charts etc.Supply the basic chart object as parameter. Parameters: Name Type Description chart the basic chart object this strategy belongs to Source: AppChart.js, line 17 Methods &lt;static&gt; factory(chart, graphType) Creates a new instance of a chart factory, the parameter graphTypespecifies which subtype to create Parameters: Name Type Description chart the basic chart object this graph strategy belongs to graphType the type of graph; supported is: &quot;line&quot; or &quot;scatter&quot; Source: AppChart.js, line 28 drawAnnotations(seriesesNode) Draws the annotation saved with each data seriesThe method delegates back to the base charts drawAnnotation(...) function. Parameters: Name Type Description seriesesNode the DOM node where all the data serieses are attached with their respective &quot;annotation&quot; property via d3's data(...) function. Source: AppChart.js, line 95 drawMarkers(seriesesNode, accessor) method for drawing a number of markers to the chart. A marker is ahighlight of a datapoint on the graph canvas with a label of coordinates.The method delegates back to the base charts drawMarkers(...) function. Parameters: Name Type Description seriesesNode the DOM node where all the data serieses are attached with their respective &quot;marker&quot; property via d3's data(...) function. accessor accessor function to apply to the marker values in order to extract coordinate values to search for close datapoints with AppGraphStrategy.prototype.getNearest(...). Source: AppChart.js, line 68 &lt;abstract&gt; drawSerieses(seriesNode) Draws all the serieses data points. Should be overriden by specificAppGraphStrategy subclass but should be called from subclass, becausesets up some event listeners Parameters: Name Type Description seriesNode the DOM node where all the data serieses are attached with their respective datapoints in the &quot;values&quot; property. Source: AppChart.js, line 138 drawStickers(seriesesNode) Draws the stickers saved with each data seriesThe method delegates back to the base charts drawStickers(...) function. Parameters: Name Type Description seriesesNode the DOM node where all the data serieses are attached with their respective &quot;stickers&quot; property via d3's data(...) function. Source: AppChart.js, line 115 getNearest(seriesValues, x, accessor) from a series of values in the chart, gets the point which is closestto some coordinate &quot;x&quot;. how to access the coordinate in the series ofvalues supplied to the function is specified by an additional accessorfunction that is applied to each value of the series. Parameters: Name Type Description seriesValues an array of values representing the series to analyze x the value to find the closest point to accessor the accessor function to apply to each seriesValue to get the equivalent of &quot;x&quot; Source: AppChart.js, line 45 × Search results Close "},"module-AppChart-AppLineGraph.html":{"id":"module-AppChart-AppLineGraph.html","title":"Class: AppLineGraph","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Class: AppLineGraph AppChart~ AppLineGraph new AppLineGraph(chart) A strategy to draw line graph (time series) Parameters: Name Type Description chart the basic chart object this strategy belongs to Source: AppChart.js, line 156 Extends module:AppChart~AppGraphStrategy Methods drawAnnotations(seriesesNode) Draws the annotation saved with each data seriesThe method delegates back to the base charts drawAnnotation(...) function. Parameters: Name Type Description seriesesNode the DOM node where all the data serieses are attached with their respective &quot;annotation&quot; property via d3's data(...) function. Inherited From: module:AppChart~AppGraphStrategy#drawAnnotations Source: AppChart.js, line 95 drawMarkers() Overrides: module:AppChart~AppGraphStrategy#drawMarkers Source: AppChart.js, line 175 See: module:AppChart~AppGraphStrategy#drawMarkers drawSerieses(seriesesNode) Draws a time series (line graph) based on the seriesesNodes attachedvalues. Also draws markers and annotations. Parameters: Name Type Description seriesesNode the DOM node where all the data serieses are attached with their respective datapoints in the &quot;values&quot; property. Overrides: module:AppChart~AppGraphStrategy#drawSerieses Source: AppChart.js, line 189 drawStickers(seriesesNode) Draws the stickers saved with each data seriesThe method delegates back to the base charts drawStickers(...) function. Parameters: Name Type Description seriesesNode the DOM node where all the data serieses are attached with their respective &quot;stickers&quot; property via d3's data(...) function. Inherited From: module:AppChart~AppGraphStrategy#drawStickers Source: AppChart.js, line 115 getNearest(seriesValues, x, y) For a set of values, gets the closest value based on the x coordinate Parameters: Name Type Description seriesValues the values to choose the closest value from x the x coordinate y the y coordinate (ignored in this implementation) Overrides: module:AppChart~AppGraphStrategy#getNearest Source: AppChart.js, line 167 × Search results Close "},"module-AppChart-AppScatterGraph.html":{"id":"module-AppChart-AppScatterGraph.html","title":"Class: AppScatterGraph","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Class: AppScatterGraph AppChart~ AppScatterGraph new AppScatterGraph(chart) A strategy to draw scatter plots Parameters: Name Type Description chart the basic chart object this strategy belongs to Source: AppChart.js, line 219 Extends module:AppChart~AppGraphStrategy Methods drawAnnotations(seriesesNode) Draws the annotation saved with each data seriesThe method delegates back to the base charts drawAnnotation(...) function. Parameters: Name Type Description seriesesNode the DOM node where all the data serieses are attached with their respective &quot;annotation&quot; property via d3's data(...) function. Inherited From: module:AppChart~AppGraphStrategy#drawAnnotations Source: AppChart.js, line 95 drawMarkers() Overrides: module:AppChart~AppGraphStrategy#drawMarkers Source: AppChart.js, line 263 See: module:AppChart~AppGraphStrategy#drawMarkers drawSerieses(seriesesNode) Draws a scatter plot based on the seriesesNodes attachedvalues. Also draws markers and annotations. Parameters: Name Type Description seriesesNode the DOM node where all the data serieses are attached with their respective datapoints in the &quot;values&quot; property. Overrides: module:AppChart~AppGraphStrategy#drawSerieses Source: AppChart.js, line 275 drawStickers(seriesesNode) Draws the stickers saved with each data seriesThe method delegates back to the base charts drawStickers(...) function. Parameters: Name Type Description seriesesNode the DOM node where all the data serieses are attached with their respective &quot;stickers&quot; property via d3's data(...) function. Inherited From: module:AppChart~AppGraphStrategy#drawStickers Source: AppChart.js, line 115 getNearest(seriesValues, x_or_t, y) For a set of values, gets the closest value based on either the &quot;t&quot; value(time value) if one value is supplied or the x and y coordinate if twovalues are supplied Parameters: Name Type Description seriesValues the values to choose the closest value from x_or_t the x or t coordinate y the y coordinate Overrides: module:AppChart~AppGraphStrategy#getNearest Source: AppChart.js, line 232 × Search results Close "},"module-AppConfigurator.html":{"id":"module-AppConfigurator.html","title":"Module: AppConfigurator","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Module: AppConfigurator A module to isolate the AppConfigurator of the DAND6 angular applicationThe AppConfigurator configures the angular application location service andthus takes care of routing URL requests to the application to the rightview Source: AppConfigurator.js, line 1 Classes AppConfigurator × Search results Close "},"module-AppConfigurator-AppConfigurator.html":{"id":"module-AppConfigurator-AppConfigurator.html","title":"Class: AppConfigurator","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Class: AppConfigurator AppConfigurator~ AppConfigurator new AppConfigurator() The AppConfigurator defines the $location service of angular to redirectthe user to the correct angular view and sets up the navigational metadata Source: AppConfigurator.js, line 16 Methods &lt;static&gt; factory() Factory method to create an AppConfigurator; used in angular.config(...) Source: AppConfigurator.js, line 66 × Search results Close "},"module-AppConstants.html":{"id":"module-AppConstants.html","title":"Module: AppConstants","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Module: AppConstants A module to isolate all centrally used constants Source: AppConstants.js, line 1 Members &lt;inner&gt; DATA_DIR the directory where the data resides Source: AppConstants.js, line 11 &lt;inner&gt; SCENARIOS_FILE the file where the different battery scenarios are stored Source: AppConstants.js, line 16 &lt;inner&gt; SUMMARY_FILE the special scenario file which contains the explanatory visualization Source: AppConstants.js, line 21 &lt;inner&gt; SUMMARY_STORIES_FILE the stories file related to that scenario Source: AppConstants.js, line 26 × Search results Close "},"module-AppDropdownDirective.html":{"id":"module-AppDropdownDirective.html","title":"Module: AppDropdownDirective","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Module: AppDropdownDirective Module defining the angularjs dropdown component &lt;app-dropdown&gt; ...&lt;/app-dropdown&gt; Source: AppDropdownDirective.js, line 1 Classes AppDropdownController AppDropdownDirective × Search results Close "},"module-AppDropdownDirective-AppDropdownController.html":{"id":"module-AppDropdownDirective-AppDropdownController.html","title":"Class: AppDropdownController","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Class: AppDropdownController AppDropdownDirective~ AppDropdownController new AppDropdownController($scope) The controller governing the directive's state and it's interaction withthe outside world Parameters: Name Type Description $scope a reference to the angularjs scope of the component Source: AppDropdownDirective.js, line 15 Methods &lt;static&gt; factory($scope) Factory to create the controller; used as the .controller member of thedirective Parameters: Name Type Description $scope a reference to the angularjs scope of the component Source: AppDropdownDirective.js, line 27 isSelected(item) Check whether one item is already selected. Parameters: Name Type Description item the item to check Source: AppDropdownDirective.js, line 56 select(item) Select one item from the dropdown menu. If multiple items can be selectedtoggle the item. Parameters: Name Type Description item the item to select Source: AppDropdownDirective.js, line 36 selectedChangedHandler() Internal callback to react on change of selection; sets the internalstate, the display value of the dropdown, if it needs to display aplaceholder etc. Source: AppDropdownDirective.js, line 68 × Search results Close "},"module-AppDropdownDirective-AppDropdownDirective.html":{"id":"module-AppDropdownDirective-AppDropdownDirective.html","title":"Class: AppDropdownDirective","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Class: AppDropdownDirective AppDropdownDirective~ AppDropdownDirective new AppDropdownDirective() The &lt;app-dropdown&gt;...&lt;app-dropdown&gt; directive. Supports thefollowing attributes: placeholder '@' - a string to display if no value is selected list '=' - an array of values where the user can select from selected '=' - a variable that will be bound to the selected item property '@' - if the items where values can be selected from is a complex object, a property that should be used as a label to display type '@' - 'radio' or 'checkbox', depending if multiple values can be selected changed '&amp;' - an external callback that is executed when the selection changes Source: AppDropdownDirective.js, line 106 Methods &lt;static&gt; factory($scope) Factory to create the directive; used in the angular.directive call Parameters: Name Type Description $scope a reference to the angularjs scope of the component Source: AppDropdownDirective.js, line 127 × Search results Close "},"module-AppExplainController.html":{"id":"module-AppExplainController.html","title":"Module: AppExplainController","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Module: AppExplainController Exposes an AngularJS controller to retrieve the data for the explanatoryvisualization and manage the interactive state of the visualization. Source: AppExplainController.js, line 1 Classes AppExplainController AppExploreController Module: AppExplainController Exposes an AngularJS controller to retrieve the data for the exploratoryvisualization and manage the interactive state of the visualization. Source: AppExploreController.js, line 1 Classes AppExplainController AppExploreController × Search results Close "},"module-AppExplainController-AppExplainController.html":{"id":"module-AppExplainController-AppExplainController.html","title":"Class: AppExplainController","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Class: AppExplainController AppExplainController~ AppExplainController new AppExplainController() The controller retrieving the data for the explanatory visualization andgoverning the interaction on this visualization. Source: AppExplainController.js, line 14 Methods &lt;static&gt; factory() Factory to create the directive; used in the angular.directive call. Source: AppExplainController.js, line 41 loadStories(storiesUrl) Loads the stories for the story box from an URL which is supplied to thefunction. Parameters: Name Type Description storiesUrl the URL to load the stories data from Source: AppExplainController.js, line 62 loadSummary(summaryUrl) Loads the summary data for the visualization from an URL which is suppliedto the function. Parameters: Name Type Description summaryUrl the url of the summary (explorative) data Source: AppExplainController.js, line 87 loosenessChangedHandler() Returns a callback that should be invoked every time thehighlights.looseness property changes. This property signifies if thestorybox should be hidden or shown. Based on this, the callback updatesthe URL to contain a specific &quot;showStories&quot; parameter. Source: AppExplainController.js, line 126 processUrlHandler() Returns a callback that should be invoked any time the URL search stringis changed. Source: AppExplainController.js, line 138 See: module:AppExplainController~AppExplainController#processUrlShowStories processUrlShowStories() Uses AngularJS's $location provider to resolve, if a &quot;showStories&quot;parameter was given when loading the page and configures the &quot;highlights&quot;object of the page in such a way, that the storybox can be eigher shownor hidden. Source: AppExplainController.js, line 109 resetHighlights() Resets all &quot;highlights&quot; back to normal, that means, no part of thevisualization will be highlighted/marked/zoomed-in etc. after calling thismethod. Source: AppExplainController.js, line 50 storiesLoadedHandler() Returns a callback to be invoked with the JSON data as parameter after thestories JSON file is loaded Source: AppExplainController.js, line 70 summaryLoadedHandler() Returns a callback to be invoked with the JSON data as parameter after thevisualization JSON file is loaded. Source: AppExplainController.js, line 95 × Search results Close "},"module-AppExplainController-AppExploreController.html":{"id":"module-AppExplainController-AppExploreController.html","title":"Class: AppExploreController","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Class: AppExploreController AppExplainController~ AppExploreController new AppExploreController() The controller retrieving the data for the exploratory visualization andgoverning the interaction on this visualization. Source: AppExploreController.js, line 14 Methods &lt;static&gt; factory() Factory to create the directive; used in the angular.directive call. Source: AppExploreController.js, line 42 loadMetrics(metricsUrl) Loads a metrics file containing the metrics data from a URLsupplied to the function. Parameters: Name Type Description metricsUrl the URL to load the metrics file from Source: AppExploreController.js, line 60 loadScenarios(scenarioUrl) Loads the scenario file containing all the selectable scenarios from a URLsupplied to the function. Parameters: Name Type Description scenarioUrl the URL to load the scenarios file from Source: AppExploreController.js, line 51 loadStories(storiesUrl) Loads a stories file containing the stories from a URLsupplied to the function. Parameters: Name Type Description storiesUrl the URL to load the stories file from Source: AppExploreController.js, line 70 metricsLoadedHandler() Returns a callback to be invoked with the JSON data as parameter after ametrics JSON file is loaded. Source: AppExploreController.js, line 107 processUrlHandler() Returns a callback that should be invoked every time the URL's searchstring changes. The callback processes the URL-parameters 'scenarioId' and'storyId'. Source: AppExploreController.js, line 206 See: module:AppExploreController~AppExploreController#processUrlScenarioId module:AppExploreController~AppExploreController#processUrlStoryId processUrlScenarioId() Updates the selected scenario based on the URL's search parameter'scenarioId'. Source: AppExploreController.js, line 218 processUrlStoryId() Updates the selected story based on the URL's search parameter 'storyId'. Source: AppExploreController.js, line 230 resetHighlights() Resets all &quot;highlights&quot; back to normal, that means, no part of thevisualization will be highlighted/marked/zoomed-in etc. after calling thismethod. Source: AppExploreController.js, line 79 scenariosLoadedHandler() Returns a callback to be invoked with the JSON data as parameter after thescenarios JSON file is loaded. Source: AppExploreController.js, line 138 selectedMetricsChangedHandler() Returns a callback that should be invoked every time the user changes theselected metrics. The callback updates an internal array &quot;serieses&quot;that contains all the serieses of all the metrics. Source: AppExploreController.js, line 189 selectedScenarioChangedHandler() Returns a callback that should be invoked every time the user changes theselected scenario. The callback updates the URL's search string and loadsall metrics associated with the scenario. Source: AppExploreController.js, line 151 selectedStoryChangedHandler() Returns a callback that should be invoked every time the user changes theselected story. The callback updates the URL's search string to containa reference to that story. Source: AppExploreController.js, line 176 selectMetricsById(metricsIds) Helper function to select a number of metrics from the loaded metricsby its 'id' property. Can be used, e.g., if a storybox needs to displaycertain metric graphs based on the story's 'metrics' property. Parameters: Name Type Description metricsIds an array of metric ids Source: AppExploreController.js, line 95 storiesLoadedHandler() Returns a callback to be invoked with the JSON data as parameter after astories JSON file is loaded. Source: AppExploreController.js, line 122 × Search results Close "},"module-AppHelper.html":{"id":"module-AppHelper.html","title":"Module: AppHelper","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Module: AppHelper Helper module to assist with helper functions, e.g. for transforming data Source: AppHelper.js, line 1 Classes AppHelper × Search results Close "},"module-AppHelper-AppHelper.html":{"id":"module-AppHelper-AppHelper.html","title":"Class: AppHelper","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Class: AppHelper AppHelper~ AppHelper new AppHelper() Helper singleton containing all one-time static functions Source: AppHelper.js, line 12 Methods &lt;static&gt; getSeriesDataTransformer(xKey, yKey, tKey) Function to reshape a series object from containing column-wise data likex: [0,1,2,3], y: [2,3,4,5], t: [5,6,7,8] to row-wise data likevalues: [{0,2,5}, {1,3,6}, ...] etc. Parameters: Name Type Description xKey the x property name to use in the original data yKey the y property name to use in the original data tKey the t property name to use in the original data Source: AppHelper.js, line 22 &lt;static&gt; trimSvg(svg) Function to trim all white space from around a SVG DOM element Parameters: Name Type Description svg the SVG DOM element Source: AppHelper.js, line 41 × Search results Close "},"module-AppMainController.html":{"id":"module-AppMainController.html","title":"Module: AppMainController","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Module: AppMainController Main controller for the DAND6 angularjs application; makes sure that allthe navigational information from the route provider are in the main scope Source: AppMainController.js, line 1 Classes AppMainController × Search results Close "},"module-AppMainController-AppMainController.html":{"id":"module-AppMainController-AppMainController.html","title":"Class: AppMainController","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Class: AppMainController AppMainController~ AppMainController new AppMainController() The main controller, populates the properties routes andcurrentRoute which can be used to layout a navigation Source: AppMainController.js, line 14 Methods &lt;static&gt; factory() Factory to create the directive; used in the angular.directive call Source: AppMainController.js, line 26 setRoutes() Derive a navigational structure from the information stored in the angular$route provider (see AppConfigurator, where this component is configured).Put that navigational structure into the &quot;routes&quot; property of thecontroller. Source: AppMainController.js, line 37 See: module:AppConfigurator~AppConfigurator updateCurrentRouteHandler() Return callback to be invoked in case the currently selected page ischanged (that is, if $route.current changes). Callback will populate thosechanges to the &quot;currentRoute&quot; property of the controller. Source: AppMainController.js, line 62 × Search results Close "},"module-AppMetricDirective.html":{"id":"module-AppMetricDirective.html","title":"Module: AppMetricDirective","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Module: AppMetricDirective Exposes the AngularJS code of the &lt;app-metric&gt; directive whichdisplays a exploratory graph. Uses a derivative of the AppChartControllercontroller/module to place an AppChart object in the element reserved by thedirective. Source: AppMetricDirective.js, line 1 Classes AppMetricController AppMetricDirective × Search results Close "},"module-AppMetricDirective-AppMetricController.html":{"id":"module-AppMetricDirective-AppMetricController.html","title":"Class: AppMetricController","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Class: AppMetricController AppMetricDirective~ AppMetricController new AppMetricController($scope, $element, ctrlName) Sets up a controller to glue together the generic AppChart chart drawingcomponent with the &lt;app-metric&gt; AngularJS directive &amp; scope. Enhancesthe AppChartController by some functionality like linking together the x-axis of various graphs, populating selected values to other directiveslistening to seriesesValuesChanged events etc. Parameters: Name Type Description $scope the AngularJS scope of the directive where the chart should be placed. $element the DOM element of the directive ctrlName the name of the controller in the angularjs scope Source: AppMetricDirective.js, line 25 Extends module:AppChartController~AppChartController Methods &lt;static&gt; getFactory(options) Returns the factory function of the controller. The factory is used inthe directives .controller property. You have to specify some &quot;options&quot;to the factory. The factory callback returned will accept exactly twoparameters: $scope and $element. Parameters: Name Type Description options see AppChartController.getFactory Source: AppMetricDirective.js, line 52 dataUpdated() To be called if the data property of the associated data object in thedirective / controller is changed or initialized. Inherited From: module:AppChartController~AppChartController#dataUpdated Source: AppChartController.js, line 86 fitChart() Initializes the display area (x- and y-axis domain) of the chart basedon whether the highlights object specifies an area the chart shouldnavigate to via the xRange property and base on whether the highlightobject's &quot;looseness&quot; property dictates that the chart should be re-fitto the maximum viewable area. Inherited From: module:AppChartController~AppChartController#fitChart Source: AppChartController.js, line 117 highlightsUpdatedHandler() Returns a callback that can be invoked if the highlights object suppliedto the directive / controller is changed. Will delegate the highlightchange to the included AppChart object. Overrides: module:AppChartController~AppChartController#highlightsUpdatedHandler Source: AppMetricDirective.js, line 80 link(chartOptions, dataTransformer) This function must be called when the directive using this controller linksthe directive to a DOM element. It takes care of actually drawing thechart into the DOM element. Parameters: Name Type Description chartOptions the chart options to create the AppChart with dataTransformer the data transform function to apply to the data before the chart is drawn Overrides: module:AppChartController~AppChartController#link Source: AppMetricDirective.js, line 66 loosenessUpdatedHandler() Returns a callback that should be invoked any time the &quot;looseness&quot; valueof the highlights object is changed. The &quot;looseness&quot; value specifieswhich amount of &quot;guiding&quot; the UI should enforce (looseness = 0:storytelling mode, looseness 1 = storytelling mode with userstarting to explore the graph, looseness = 2: user has collapsed thestorytelling, looseness = 3: user has completely 'gone off on its own' andselected other metrics, zoomed/panned in the graph etc.) Inherited From: module:AppChartController~AppChartController#loosenessUpdatedHandler Source: AppChartController.js, line 262 metricHighlightedHandler() Returns a callback that should be invoked any time a metric graph as awhole is highlighted (mouseover'ed). Updates the highlights.metricId objectaccordingly. Source: AppMetricDirective.js, line 155 metricUnhighlightedHandler() Returns a callback that should be invoked any time a metric graph as awhole is unhighlighted (mouseout'ed). Updates the highlights.metricIdobject accordingly. Source: AppMetricDirective.js, line 171 seriesesValuesUpdatedHandler() Returns a callback that can be invoked if a datapoint is selected. Willupdate the highlights.seriesesValues object accordingly. Source: AppMetricDirective.js, line 100 seriesHighlightedHandler() Returns a callback that should be invoked any time a series is highlighted.The callback accepts exactly one parameter: the seriesId. Will take carethat the highlights object (seriesId and looseness) is updated accordingly. Inherited From: module:AppChartController~AppChartController#seriesHighlightedHandler Source: AppChartController.js, line 177 seriesUnhighlightedHandler() Returns a callback that should be invoked any time a series isunhighlighted. The callback accepts exactly one parameter: the seriesId.Will take care that the highlights object (seriesId and looseness) isupdated accordingly. Inherited From: module:AppChartController~AppChartController#seriesUnhighlightedHandler Source: AppChartController.js, line 194 xRangeUpdatedHandler() Returns a callback that should be invoked every time the highlights.xRangevalue is changed. Will take care that all charts scroll uniformely alongthe x axis. Inherited From: module:AppChartController~AppChartController#xRangeUpdatedHandler Source: AppChartController.js, line 161 xyHighlightedHandler() Returns a callback that should be invoked any time a x/y value in thegraph is highlighted (effectively, any time the mouse moves). Callbackwill accept a x and y domain coordinate as its 2 parameters and updatehighlights.x and highlights.y accordingly. Inherited From: module:AppChartController~AppChartController#xyHighlightedHandler Source: AppChartController.js, line 225 xyUnhighlightedHandler() Returns a callback that should be invoked any time the mouse leaves thegraph area or no point at all is highlighted in the graph. Inherited From: module:AppChartController~AppChartController#xyUnhighlightedHandler Source: AppChartController.js, line 241 zoomedPannedHandler() Returns a callback that should be invoked any time the x/y extent changesbecause the user zooms or pans in the graph. Updates the highlights object(xRange property) and the &quot;looseness&quot; property accordingly. Overrides: module:AppChartController~AppChartController#zoomedPannedHandler Source: AppMetricDirective.js, line 137 × Search results Close "},"module-AppMetricDirective-AppMetricDirective.html":{"id":"module-AppMetricDirective-AppMetricDirective.html","title":"Class: AppMetricDirective","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Class: AppMetricDirective AppMetricDirective~ AppMetricDirective new AppMetricDirective() The &lt;app-metric&gt; directive. Supports the following attributes: highlights '=' - the highlights object representing the internal visualization status metric '=' - the data object to visualize Source: AppMetricDirective.js, line 190 Methods &lt;static&gt; factory() Factory to create the directive; used as the angularjs.directive call. Source: AppMetricDirective.js, line 209 link() The &quot;link&quot; function to be invoked when the directive is attached to anelement. Will take care that the controller will draw the chart using theAppChart methods. Source: AppMetricDirective.js, line 218 × Search results Close "},"module-AppMetricsDirective.html":{"id":"module-AppMetricsDirective.html","title":"Module: AppMetricsDirective","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Module: AppMetricsDirective Defines the &lt;app-metrics&gt;...&lt;/app-metrics&gt; directive which servesas a container for many &lt;app-metric /&lt; directives, each displaying ametric chart. Source: AppMetricsDirective.js, line 1 Classes AppMetricsController AppMetricsDirective × Search results Close "},"module-AppMetricsDirective-AppMetricsController.html":{"id":"module-AppMetricsDirective-AppMetricsController.html","title":"Class: AppMetricsController","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Class: AppMetricsController AppMetricsDirective~ AppMetricsController new AppMetricsController() The controller governing the directive's state and it's interaction withthe outside world. Source: AppMetricsDirective.js, line 16 Methods &lt;static&gt; factory() Factory to create the controller; used as the .controller member of thedirective. Source: AppMetricsDirective.js, line 24 × Search results Close "},"module-AppMetricsDirective-AppMetricsDirective.html":{"id":"module-AppMetricsDirective-AppMetricsDirective.html","title":"Class: AppMetricsDirective","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Class: AppMetricsDirective AppMetricsDirective~ AppMetricsDirective new AppMetricsDirective() Defines the &lt;app-metrics&gt;...&lt;/app-metrics&gt; directive. Acceptsthe following attributes: metrics '=' - reference to a metrics object containing all displayable metrics highlights '=' - reference to a highlights object holding the current interaction &amp; display state of the visualization. Source: AppMetricsDirective.js, line 38 Methods &lt;static&gt; factory() Factory to create the directive; used in the angular.directive call Source: AppMetricsDirective.js, line 55 × Search results Close "},"module-AppRoutesDirective.html":{"id":"module-AppRoutesDirective.html","title":"Module: AppRoutesDirective","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Module: AppRoutesDirective Defines the app-routes directive that is used to display a navigation Source: AppRoutesDirective.js, line 1 Classes AppRoutesController AppRoutesDirective × Search results Close "},"module-AppRoutesDirective-AppRoutesController.html":{"id":"module-AppRoutesDirective-AppRoutesController.html","title":"Class: AppRoutesController","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Class: AppRoutesController AppRoutesDirective~ AppRoutesController new AppRoutesController() The controller governing the directive's state and it's interaction withthe outside world. Source: AppRoutesDirective.js, line 13 Methods &lt;static&gt; factory() Factory to create the controller; used as the .controller member of thedirective Source: AppRoutesDirective.js, line 21 × Search results Close "},"module-AppRoutesDirective-AppRoutesDirective.html":{"id":"module-AppRoutesDirective-AppRoutesDirective.html","title":"Class: AppRoutesDirective","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Class: AppRoutesDirective AppRoutesDirective~ AppRoutesDirective new AppRoutesDirective() The &lt;app-routes&gt;...&lt;app-routes&gt; directive. Supports thefollowing attributes: current '=' - a variable containing the current route all '=' - a variable containing all current routes title '@' - a string to show as a header of the navigationSee AppConfigurator.js for a detailled description of the routes objects Source: AppRoutesDirective.js, line 35 Methods &lt;static&gt; factory() Factory to create the directive; used in the angular.directive call Source: AppRoutesDirective.js, line 52 × Search results Close "},"module-AppSchematicsDirective.html":{"id":"module-AppSchematicsDirective.html","title":"Module: AppSchematicsDirective","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Module: AppSchematicsDirective Defines the app-schematics directive that is used to display a SVG withflexible content populated with series values from a visualization. Source: AppSchematicsDirective.js, line 1 Classes AppSchematicsController AppSchematicsDirective × Search results Close "},"module-AppSchematicsDirective-AppSchematicsController.html":{"id":"module-AppSchematicsDirective-AppSchematicsController.html","title":"Class: AppSchematicsController","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Class: AppSchematicsController AppSchematicsDirective~ AppSchematicsController new AppSchematicsController($scope, $element) The controller governing the directive's state and it's interaction withthe outside world. Parameters: Name Type Description $scope a reference to the angularjs scope of the component $element a reference to the element the component is assigned to Source: AppSchematicsDirective.js, line 16 Methods &lt;static&gt; factory($scope, $element) Factory to create the controller; used as the .controller member of thedirective Parameters: Name Type Description $scope a reference to the angularjs scope of the component $element a reference to the element the component is assigned to Source: AppSchematicsDirective.js, line 30 getHighlightedSerId() Retrieve the currently highlighted series - used by sub-controllers indirectives transcluded into this directive. These directives are notnecessarily aware of the highlights object supplied to theapp-schematics directive. Source: AppSchematicsDirective.js, line 40 getSerieses() Returns the array of available serieses - used by sub-controllers indirectives transcluded into this directive. These directives are notnecessarily aware of the highlights object supplied to theapp-schematics directive. Source: AppSchematicsDirective.js, line 62 getSrcUrl() Return the source URL of the SVG graph to be displayed. This isconcatenated by the attribute &quot;dir&quot; and &quot;svg&quot; supplied to the directive. Source: AppSchematicsDirective.js, line 70 loaded() Invoked if a SVG is loaded; trims the SVG from its whitespace andpopulates it with the current series values. Source: AppSchematicsDirective.js, line 78 seriesesValuesChangedHandler(values) Returns callback that is invoked every time a other series valuesare detected in the highlights object and will broadcast this as anevent to child scopes so that other directives can catch the event fromthere without having knowledge about the highlights object. Parameters: Name Type Description values an array of series values Source: AppSchematicsDirective.js, line 91 setHighlightedSerId() Set the currently highlighted series - used by sub-controllers indirectives transcluded into this directive. These directives are notnecessarily aware of the highlights object supplied to theapp-schematics directive. Source: AppSchematicsDirective.js, line 50 × Search results Close "},"module-AppSchematicsDirective-AppSchematicsDirective.html":{"id":"module-AppSchematicsDirective-AppSchematicsDirective.html","title":"Class: AppSchematicsDirective","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Class: AppSchematicsDirective AppSchematicsDirective~ AppSchematicsDirective new AppSchematicsDirective() The &lt;app-schematics&gt;...&lt;app-schematics&gt; directive. Supports thefollowing attributes: svg '=' - a variable holding the SVG URL to be displayed serieses '=' - an array of serieses with their properties highlights '=' - the highlights object to exchange information about the visualization highlight state dir '@' - the directory where the SVG URL (attribute 'svg') is based on Source: AppSchematicsDirective.js, line 113 Methods &lt;static&gt; factory($scope) Factory to create the directive; used in the angular.directive call Parameters: Name Type Description $scope a reference to the angularjs scope of the component Source: AppSchematicsDirective.js, line 131 × Search results Close "},"module-AppSeriesDirective.html":{"id":"module-AppSeriesDirective.html","title":"Module: AppSeriesDirective","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Module: AppSeriesDirective Defines the app-series directive that may be used inside of a SVG toset certain SVG attributes dynamically based on series values. Theapp-series directive needs to be applied to a SVG node as an attribute inthe formapp-series=&quot;{property1: seriesId1, property2: seriesId2, ...}&quot;where propertyN is a property you want to control dynamically and seriesIdNis a series id you want to use in order to configure that property. Source: AppSeriesDirective.js, line 1 Classes AppSeriesClassManipulator AppSeriesColorManipulator AppSeriesController AppSeriesDimensionManipulator AppSeriesDirective AppSeriesManipulator AppSeriesTextManipulator × Search results Close "},"module-AppSeriesDirective-AppSeriesClassManipulator.html":{"id":"module-AppSeriesDirective-AppSeriesClassManipulator.html","title":"Class: AppSeriesClassManipulator","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Class: AppSeriesClassManipulator AppSeriesDirective~ AppSeriesClassManipulator new AppSeriesClassManipulator(headElement, className) Manipulates the CSS class of a SVG DOM node based on whether it receivesvalues from the specified series and depending on whether it this seriesis highlighted or a not. Parameters: Name Type Description headElement the DOM element the manipulator has to control className the class name with suffix &quot;-yes&quot; or &quot;-no&quot; to apply to the element based on whether the element currently receives data from the series it is assigned to. Source: AppSeriesDirective.js, line 181 Extends module:AppSeriesDirective~AppSeriesManipulator Methods setFromSeriesValue(seriesValue, highlight) Sets the CSS classes of the SVG DOM node based on whether the DOM nodecurrently receives values from the configured series and based on whetherthis series is currently highlighted. Parameters: Name Type Description seriesValue the seriesValue, if undefined, resets value to unmanipulated default value highlight whether the series associated with the series value is currently highlighted Source: AppSeriesDirective.js, line 204 × Search results Close "},"module-AppSeriesDirective-AppSeriesColorManipulator.html":{"id":"module-AppSeriesDirective-AppSeriesColorManipulator.html","title":"Class: AppSeriesColorManipulator","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Class: AppSeriesColorManipulator AppSeriesDirective~ AppSeriesColorManipulator new AppSeriesColorManipulator(headElement, property) Manipulates a color (fill, stroke...) of a SVG DOM node based on theseries value it receives. The value will be drawn from the d.color value.The property must be inside of the DOM's &quot;style....&quot; namespace Parameters: Name Type Description headElement the DOM element the manipulator has to control property the property of the DOM element that this manipulator controls; must be an attribute of the DOM element Source: AppSeriesDirective.js, line 140 Extends module:AppSeriesDirective~AppSeriesManipulator Methods retrieveDefaults() Retrieve the default element's color. Source: AppSeriesDirective.js, line 149 setFromSeriesValue(seriesValue, highlight) Sets the color of the manipulated DOM element based on the color value ofthe series value Parameters: Name Type Description seriesValue the seriesValue, if undefined, resets value to unmanipulated default value highlight whether the series associated with the series value is currently highlighted Source: AppSeriesDirective.js, line 161 × Search results Close "},"module-AppSeriesDirective-AppSeriesController.html":{"id":"module-AppSeriesDirective-AppSeriesController.html","title":"Class: AppSeriesController","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Class: AppSeriesController AppSeriesDirective~ AppSeriesController new AppSeriesController($scope, $element) The controller governing the directive's state and it's interaction withthe outside world. Parameters: Name Type Description $scope a reference to the angularjs scope of the component $element a reference to the element the component is assigned to Source: AppSeriesDirective.js, line 231 Methods &lt;static&gt; factory($scope, $element) Factory to create the controller; used as the .controller member of thedirective. Parameters: Name Type Description $scope a reference to the angularjs scope of the component $element a reference to the element the component is assigned to Source: AppSeriesDirective.js, line 241 invokeManipulatorsHandler() Returns a callback to be invoked every time the populated serieses valueswas changed. The callback will accept two arguments: $event, representingthe associated angularjs event which is broadcasted from the parent scopeevery time the serieses values changed and seriesValues, representing thenew serieses values that were populated. Source: AppSeriesDirective.js, line 267 setupManipulators($element) Setup all manipulators based on the directive's value Parameters: Name Type Description $element a reference to the DOM head element the component is assigned to Source: AppSeriesDirective.js, line 250 × Search results Close "},"module-AppSeriesDirective-AppSeriesDimensionManipulator.html":{"id":"module-AppSeriesDirective-AppSeriesDimensionManipulator.html","title":"Class: AppSeriesDimensionManipulator","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Class: AppSeriesDimensionManipulator AppSeriesDirective~ AppSeriesDimensionManipulator new AppSeriesDimensionManipulator(headElement, property) Manipulates a dimension (width, height...) of a SVG DOM node based on theseries value it receives. Note, that the dimension will be assigned fromthe series value &quot;as-is&quot; without any scaling etc., so you have to figureout how to apply some SVG transform, scaling or SVG's viewbox attribute. Parameters: Name Type Description headElement the DOM element the manipulator has to control property the property of the DOM element that this manipulator controls; must be an attribute of the DOM element Source: AppSeriesDirective.js, line 100 Extends module:AppSeriesDirective~AppSeriesManipulator Methods retrieveDefaults() Retrieve the default element's dimension. Source: AppSeriesDirective.js, line 109 setFromSeriesValue(seriesValue, highlight) Sets the dimension of the manipulated DOM element based on the y value ofthe series value Parameters: Name Type Description seriesValue the seriesValue, if undefined, resets value to unmanipulated default value highlight whether the series associated with the series value is currently highlighted Source: AppSeriesDirective.js, line 121 × Search results Close "},"module-AppSeriesDirective-AppSeriesDirective.html":{"id":"module-AppSeriesDirective-AppSeriesDirective.html","title":"Class: AppSeriesDirective","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Class: AppSeriesDirective AppSeriesDirective~ AppSeriesDirective new AppSeriesDirective() The app-series directive used to decorate a SVG element to be modified ifnew data series values are populated from the parent scope. The directivecan be applied to a SVG DOM element as attribute and takes a JSON objectin the form of {property1: seriesId1, property2: seriesId2, ...}where propertyN is a property you want to control dynamically and seriesIdNis a series id you want to use in order to configure that property. ForpropertyN, there are various properties you can control, e.g., 'fill'controls the filling color, 'text' controls the text inside of the element,'show' shows/hides the element based on whether values are present or not. Source: AppSeriesDirective.js, line 293 Methods &lt;static&gt; factory() Factory to create the directive; used in the angular.directive call Source: AppSeriesDirective.js, line 309 link() The directives 'link' function is invoked every time the directive isbound to a DOM element. It makes sure that the directive still silentlytranscludes the inner elements of the head DOM element, passes through theangular.js scope and registers for any broadcasted seriesesValueChangedevent. Source: AppSeriesDirective.js, line 320 × Search results Close "},"module-AppSeriesDirective-AppSeriesManipulator.html":{"id":"module-AppSeriesDirective-AppSeriesManipulator.html","title":"Class: AppSeriesManipulator","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Class: AppSeriesManipulator AppSeriesDirective~ AppSeriesManipulator &lt;abstract&gt; new AppSeriesManipulator(headElement, property) General purpose &quot;series manipulator&quot;. Each property-series pairing definedby an app-series directive will have a manipulator associated on the DOMelement. The manipulator is responsible for receiving a series value andmodifying the DOM element accordingly Parameters: Name Type Description headElement the DOM element the manipulator has to control property the property of the DOM element that this manipulator controls Source: AppSeriesDirective.js, line 25 Methods &lt;static&gt; create(headElement, property) Factory method to create a specific manipulator based on the property Parameters: Name Type Description headElement the DOM element the manipulator has to control property the property of the DOM element that this manipulator controls Source: AppSeriesDirective.js, line 39 × Search results Close "},"module-AppSeriesDirective-AppSeriesTextManipulator.html":{"id":"module-AppSeriesDirective-AppSeriesTextManipulator.html","title":"Class: AppSeriesTextManipulator","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Class: AppSeriesTextManipulator AppSeriesDirective~ AppSeriesTextManipulator new AppSeriesTextManipulator(headElement) Manipulates a text content of a SVG DOM node based on the series valueit receives. Parameters: Name Type Description headElement the DOM element the manipulator has to control Source: AppSeriesDirective.js, line 59 Extends module:AppSeriesDirective~AppSeriesManipulator Methods retrieveDefaults() Retrieve the default text content. Source: AppSeriesDirective.js, line 68 setFromSeriesValue(seriesValue, highlight) Sets the text content to numerical value based on a series value Parameters: Name Type Description seriesValue the seriesValue, if undefined, resets value to unmanipulated default value highlight whether the series associated with the series value is currently highlighted Source: AppSeriesDirective.js, line 79 × Search results Close "},"module-AppStoriesDirectives.html":{"id":"module-AppStoriesDirectives.html","title":"Module: AppStoriesDirectives","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Module: AppStoriesDirectives Defines the app-stories directive that is used to display a &quot;story-box&quot; - anumber of narratives the user can step through in a window on the websitewhich highlight different parts of the graph at different points in thenarrative. Source: AppStoriesDirective.js, line 1 Classes AppStoriesController AppStoriesDirective × Search results Close "},"module-AppStoriesDirectives-AppStoriesController.html":{"id":"module-AppStoriesDirectives-AppStoriesController.html","title":"Class: AppStoriesController","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Class: AppStoriesController AppStoriesDirectives~ AppStoriesController new AppStoriesController($scope, $element) The controller governing the directive's state and it's interaction withthe outside world. Parameters: Name Type Description $scope a reference to the angularjs scope of the component $element a reference to the element the component is assigned to Source: AppStoriesDirective.js, line 18 Methods &lt;static&gt; factory($scope, $element) Factory to create the controller; used as the .controller member of thedirective Parameters: Name Type Description $scope a reference to the angularjs scope of the component $element a reference to the element the component is assigned to Source: AppStoriesDirective.js, line 34 goToStory(storyId) Function to set the controller attributes to jump to a specific stories Parameters: Name Type Description storyId the story to jump to Source: AppStoriesDirective.js, line 42 tellStoryHandler() Function to &quot;tell the current story&quot; - is invoked every time the currentstory changed and plugs all values from the story object and transformsthem to the highlight object so that the areas of a graph are highlighted.Only tells the story if highlights.looseness &lt; 2. Source: AppStoriesDirective.js, line 56 × Search results Close "},"module-AppStoriesDirectives-AppStoriesDirective.html":{"id":"module-AppStoriesDirectives-AppStoriesDirective.html","title":"Class: AppStoriesDirective","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Class: AppStoriesDirective AppStoriesDirectives~ AppStoriesDirective new AppStoriesDirective() The &lt;app-stories&gt;...&lt;app-stories&gt; directive. Supports thefollowing attributes: stories '=' - an array of stories objects, e.g. from a stories json file - see tellStoryHandler(...) for a list of properties a story supports story '=' - the currently selected story highlights '=' - the highlights object containing the state of interaction context the user uses the visualization environment in right now homeurl '@' - supply an URL here if you want the user to have the option to return to an overview page from the stories metricsselector '&amp;' - a callback to invoke with a value of metric ids when a story demands a specific sets of metrics to be shown. explore '@' - supply an URL here if you want the user to have the option to go to a more exploratory visualization from the story box Source: AppStoriesDirective.js, line 112 Methods &lt;static&gt; factory() Factory to create the directive; used in the angular.directive call Source: AppStoriesDirective.js, line 133 × Search results Close "},"module-AppTranscopeDirective.html":{"id":"module-AppTranscopeDirective.html","title":"Module: AppTranscopeDirective","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Module: AppTranscopeDirective Defines the ng-transcope directive - a directive to make the outer scopeavailable to elements transcluded by a directive; this allows us to re-usethe outer scope in the transcluded elements but have an isolated scope in thetemplate. Source: AppTranscopeDirective.js, line 1 Classes AppTranscopeDirective × Search results Close "},"module-AppTranscopeDirective-AppTranscopeDirective.html":{"id":"module-AppTranscopeDirective-AppTranscopeDirective.html","title":"Class: AppTranscopeDirective","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Class: AppTranscopeDirective AppTranscopeDirective~ AppTranscopeDirective new AppTranscopeDirective() Defines the ng-transcope directive that may be used as attribute or element Source: AppTranscopeDirective.js, line 15 Methods &lt;static&gt; factory() Factory to create the directive; used in the angular.directive call Source: AppTranscopeDirective.js, line 22 link() Standard directive link making use of the supplied $transclude function Source: AppTranscopeDirective.js, line 29 × Search results Close "},"tutorial-1FileDirectoryStructure.html":{"id":"tutorial-1FileDirectoryStructure.html","title":"Tutorial: File & Directory Structure","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph File &amp; Directory Structure The directory structure of the application consists of the following directories which I roughly group into 3 groups: Web Application Code, Data &amp; Data Analysis, Documentation. Web Application Code /: contains the index.html file with all hooks to CSS and JavaScript code, also a few files for the development &amp; build process (package.json, Gruntfile, testeserver.bat) and the central README.md For all HTML files I use a HTML Preprocessor Jade that lets me write shorthand-HTML, so for each .html file, there is a .jade file which also may be more extensively commented (assuming that people who will want to look into the code mostly doing so by browsing the GitHub repository, not the original HTML source). /js: JavaScript files All external libraries ares stored in /js/ext. Code for all Angular Components is stored under their respective /js/&lt;Component&gt;.js file. Code for all other (helper) classes is stored under the js/&lt;Class&gt;.js. All code from all JavaScript files is referenced and dynamically loaded using the Requirejs loader and the central js/main.js script Using [Grunt][grunt], for production use, I minify the code into one single file /js/all.min.js /css: Stylesheets All external CSS files (currently only Bootstrap styles) are in /css/ext. I use a CSS preprocessor Sass which lets me write shorthand-CSS, comment it and pull all CSS files into one single &quot;minified&quot; CSS files. For any Angular Components that needs a CSS file, there is one in /css/_&lt;Component&gt;.sass. There are also a few &quot;purpose-centric&quot; Sass-file, like one for every &quot;view&quot; or one for &quot;resets&quot; or the &quot;main grid&quot; (_explore.sass, _resets.sass, _main.sass etc.) All those SASS files are pulled together by one main.sass file into a minified CSS file main.min.css which is referenced from the website. /templates: for all Angular Components their respective HTML template in &lt;Component&gt;.jade/.html. /fonts: webfonts referenced from the CSS style sheets. /images: images used across the website as stylistic elements. /views: HTML/Jade files, one for every &quot;view&quot;. A view is a page page which is reachable from the main navigation and included at the top level in the index.html. E.g., the explanatory analysis view is stored at /views/_explanatory.html. Data &amp; Data Analysis /data: &quot;wrangled&quot; data the visualization application loads, see JSON Data Structure - will also contain any external static images needed for the visualization /rawdata: raw data as it was supplied to me by the data source (&quot;unwrangled&quot;) /tools: &quot;data wrangling tools&quot;, written Python and Explorative Data Analysis Code written in R. Documentation /doc: Javascript documentation that was generated from the original .js files using JSDoc and grunt-jsdoc /jsdoc: these documentation files and all associated resources /readme: all ressources (especially images) asssociated with the top-level README.md and project introduction. × Search results Close "},"tutorial-2Terminology.html":{"id":"tutorial-2Terminology.html","title":"Tutorial: Terminology","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Terminology In order to understand the application architecture which is described further below (and also the sourcecode comments) it is useful to know how I formally call / define a few things you see on the screen when using the visualization: Explanatory View Hamburger menu: The main navigation menu; usually the different navigation items in the hamburger menu are reffered to as routes. View: one single page from the Hamburger Menu giving one consistent interactive experience to the user Column: a vertical slice of the grid inside a view Chart: the complete two-dimensional visualization including data points, labels, axis etc. etc. - all managed in D3.js but not including the &quot;Storybox&quot; or &quot;Schematics&quot;. Summary chart: the chart shown on the Explanatory View which, in our application shows different battery scenarios in an aggregated way. Graph: the area of the chart between the two main axes. Graphtype: Which kind of chart to draw (scatter/line). Series: A set of data values that belongs together, is captured together during an experiment with one metric at one location and can be displayed by one graphical series on the chart. I often use the slightly awkward pig-plural serieses for its plural to make it clear when I am talking about one series or a collection of them. Marker: A specially highlighted and labelled data point; a special kind of marker is shown for the data point which you highlight with your mouse. t-value: A third dimension besides x and y for scatter plots, usually &quot;time&quot; if time is not used for x and y. In this case, the t-value can be only perceived by appearant &quot;flow&quot; of a line scatter points and examined by hovering over single data points. x-/y-axis: Both axes have labels and ticks, whereas I use the term short tick for the part of the tick visible outside of the graph area and long tick for the grid visible on the graph itself. Currently the graph is styled such that only for the origin those grids are shown. Sticker: A decorative image or symbol that is mapped into the graph area. Annotation: Free-form text floating over the graph area. Hotspot: A box highlighting a certain area of the graph for the sake of story telling. Storybox: A prominent text box alongside with the chart which supplies the user with a narrative. Exploratory View In addition to some terminology from the explanatory scenario, the following terms need to be understood: Scenarios &amp; selected scenario: A battery type and battery use case for which data of different metrics was collected during an experiment or simulation. The exploratory view lets you select one from a set of different scenarios. Metrics &amp; selected metric: A metric that is collected during a scenario can be, e.g., Voltage, State-of-Charge, Temperature etc. The &quot;metric&quot; in our definition contains all measurements of this metric, potentially at different locations. Metrics can further be subdivided by series(es). A metric can be highlighted if the mouse is moved into the chart of this metric. Metric chart: A chart displaying all the series(es) of one metric. The metric chart has the graphtype: line (time-series). Series: A single set of data collected for one metric at one location (like the Temperature of a single cell). Multiple series(es) of one metric are displayed together in one metric chart using different, overlapping time series lines. A series can be highlighted if the mouse is moved directly on top of its time series line. A series is also represented as a shape or primitive in the battery schematics. The associated shape can take the text or color associated with a series's value as the user moves the mouse over the chart. Schematics: The facsimile battery representation representing the battery type and scenario. This is a SVG graph with many custom elements that are filled / styled / captioned based on the data series's value. × Search results Close "},"tutorial-3JSONDataStructure.html":{"id":"tutorial-3JSONDataStructure.html","title":"Tutorial: JSON Class Structure of Data Files","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph JSON Class Structure of Data Files This chapter is especially useful for engineers who would want to re-purpose the visualization application to show other, custom battery data. It may also be re-used for completely different purposes. The following definitions serve as a specification about which JSON and SVG files inside of the /data directory the visualization application can handle. It is important to realize that both explanatory and exploratory visualization use the same data format. However, they are stored in different files and at some positions, one may contain some values which the otherdoes not. The following picture shows the different files (in bold) that are to be stored in /data and their relationship to each other. Filenames are written in bold, elements/files specific only to explanatory view in orange, elements/files specific only to exploratory view in blue. For the explanatory visualization there are two files: summary.json containing the explanatory visualization data (one single Metric object with three Series Objects, one for each driving situation) summary-stories.json containing the stories accompaining the explanatory visualization. For the explorative visualization there are usually more files: One central scenarios.json file containing all Scenario objects, where each one references one of the following files: scenario-&lt;scenarioId&gt;.json that, in a similar way to summary.json, contains the visualization data. Again, data is organized into multiple Metrics and from there into multiple Series(es). scenario-&lt;scenarioId&gt;-stories.json which contains all the stories for one single scenario. &lt;battery&gt;.svg representing a schematic drawing of a battery that will be shown alongside with the scenario. This drawing can be designed in a standard SVG drawing tool and annotated with the special attribute app-series in order to make single shapes react dynamically to the user-selected value. The following sections go into deep-level technical detail about the individual JSON properties used in the data structure. Properties of Scenario Objects id (string): machine-readable ID that this scenario is referenced to. ID will be used in the URL as scenarioId URL-parameter. label (string): human-readable label of this scenario - will be displayed on scenario selection dropdown. dataFile (string): reference to the file containing metric &amp; series data (filename relative to /data directory). storiesFile (string): reference to the file containing the story objects / narrative displayed in the storybox (filename relative to /data directory). schematicsFile (string): reference to the SVG file containing the battery schematics displayed for the scenario (filename relative to /data directory). Properties of Story Objects id (string): machine-readable ID that this story is referenced to. in the explorative view, ID will be used in the URL as storyId URL-parameter. label (string): human-readable label of this story - will be displayed in the story selection dropdown. desc (string): longer text that contains the narrative of this story. metrics (array of strings, optional): an array of ids of metric objects that should be shown when this story is selected. All other metrics shown at this time will be hidden. If this property is not set, the displayed metrics are not changed. x (float, optional): if set, will focus the datapoint marker for all displayed metrics at the value closest to the supplied x-value; this has the same effect as hovering with your mouse over the data point. xRange (2-element array of floats): if set, will zoom in to the data with the supplied x-min (1st element) &amp; x-max (2nd element). hotspots (array of &quot;hotspot objects&quot;, optional): if set, will display highlighting boxes inside of some of the metric graphs. Each hotspot object consists of the following properties: metric (string): a reference to the id of the metric where the box should be displayed x0, x1, y0, y1 (all float): two data points defining two corners of the box to be displayed series (string, optional): reference to a series id value; if set inside of the explorative view, a certain series is explicitly highlighted, leading to this value being prominently labeled (and potentially highlighted in the schematics graphic) prev (string, optional): reference to the prev story-id to be moved to by clicking the &quot;Back&quot; button. next (string, optional): reference to the next story-id to be moved to by clicking the &quot;Proceed&quot; button. Properties of Metric Objects id (string): machine-readable ID that this metric is referenced to; is used when referencing to the metric, for example, from a story-object. label, xlabel, ylabel, tlabel (string): human-readable description of the respective dimension of the data. For the explanatory visualization, the x/y/t-axes need to be labeled independently from another. For the explorative visualization only the y-axis needs to be labeled with label. This value is also used to determine the label on the metrics dropdown box. The x-axis is assumed to be &quot;time&quot;. unit, xunit, yunit, tunit (string): human-readable label of the unit of the respective dimension of the data. For the explanatory visualization, the x/y/t-units need to be specified independently from another. For the explorative visualization only the y-unit needs to be specified with unit. The x-unit is assumed to be &quot;s&quot; (seconds). dataColorMap (array of [float,string]-pairs, optional): if defined, sets up a color-mapping-scale on the y axis; only used in the explorative visualization; contains an array that specifies a number of key data points that should be mapped to specific color values - values in between are interpolated as gradients; each of the array elements contains another array with exactly two elements: a float representing the y-value that should be mapped to a specific color a string representing the HTML color value this y-value should be mapped to serieses (array of Series objects): contains the data series(es) that are associated with this metric and should be shown together in one chart - see the next section for the structure of Series objects Properties of Series Objects id (string): machine-readable ID that this series is referenced to; is used when referencing to a series, for example, from a story object. label (string): human-readable textual representation of this series. time, data (array of floats): the data values (x &amp; y values) of the series for explorative data; both arrays need to have the same length. x, y, t (array of floats): the data values (x, y &amp; t values) of the series for explanatory data; all three arrays need to have the same length. values (array of pairs/triplets of floats): the time, data, x, y &amp; t values are transformed internally in a nested representation that holds the x-, y- (and potentially t-) values together for every point; the values property is derived at runtime and not present in the persistent data markers (array of marker objects, optional): may contain a number of &quot;marker&quot; objects. A marker object highlights a specific point in the data. A marker object contains the following properties: x or t (float): the coordinate to select the data point by coords (array of any subset of &quot;x&quot;, &quot;y&quot;, &quot;t&quot;): specifies which data values to display alongside the marker annotations (array of annotation objects, optional): may contain a number of &quot;annotation&quot; objects. An annotation object is a free-form text displayed as overlay over the data. An annotation object contains the following properties: x, y (float): the coordinates of the first line baseline of the text anchor (&quot;start&quot;, &quot;middle&quot; or &quot;end&quot;): specifies if the text is left, center or right justified lines (array of strings): contains one string per text line to display stickers (array of sticker objects, optional): may contain a number of &quot;sticker&quot; objects. Stickers are external images that should be mapped onto the graph area. Those sticker objects can be specified using the following properties: x0, x1, y0, y1 (all float): two data points defining two diagonally opposing corners of the sticker object src (string): the filename of the sticker image relative to the base-directory off the AppChart (in this visualization: /data) color (string, optional): if set, draws the series with a specific color value Usage of the app-series Attribute in SVGsThis project will continuously be maintained by E-mobility engineers. Therefore, the SVG graphics representing the batteries need to be easily editable. I use a simple custom SVG attribute app-series which can be annotated to any SVG shape or element with state-of-the-art SVG image editors like InkScape. Adding this attribute to a shape inside of the SVG graphic leads to the fill color, text or display status of the SVG shape being updated dynamically dependent on the selected data series value. The app-series attribute accepts a JSON object which can have any combination of the following properties: fill: use if you want the fill color of a shape to be changed to the color-mapped value of the series if a series value is selected. A dataColorMap needs to be specified for the associated metric. text: use if you want the inner DOM-text of a DOM element to be changed to the value of the series if a series value is selected. show: use if you want an SVG element to be shown or hidden dependent on whether this series is currently displayed or not. As value for any of those properties, specify a valid series id. × Search results Close "},"tutorial-4Components.html":{"id":"tutorial-4Components.html","title":"Tutorial: Components of the Application","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Components of the Application This application makes use of the AngularJS framework. Simply said, AngularJS allows for the specification of &quot;custom HTML elements&quot; which can behave like independent, re-usable components that we can instantiate with varying properties across the site. This was especially useful for this project given that we had to re-use a dynamic number of charts, schematics, dropdowns etc. across this application - all being components that Standard-HTML did not support but that would be difficult to re-use if we relied solely on the &quot;DOM manipulating&quot; nature that libraries like d3.js and jQuery support. In our application, those Angular components are prefixed with App... (in file, class or Requirejs module names) or app- (in tag or attribute names). Usually, every component comes with the following artifacts: Javascript code for the component in /js/&lt;Component&gt;.js - contains code for so-called &quot;controllers&quot; (classes named &lt;Component&gt;Controller by convention) and &quot;directives&quot; (classes named &lt;Component&gt;Directive by convention). Those components are registered compoundly in the /js/main.js file. Parametrized HTML templates stored in /templates/&lt;Component&gt;.html (or .jade) which are loaded on-demand by AngularJS. Associated CSS rules stored in /css/_&lt;Component&gt;.css. Those CSS rules are included compoundly in the /css/main.min.css file. The following sections describe the so-called &quot;directives&quot; used in the two main views of the application. Explanatory View &lt;ng-view&gt; is a standard AngularJS directive that allows including sub-pages based on the current navigation state. The sub-pages for explorative, explanatory and documentation view are stored in the repositories /views section. &lt;app-summary&gt; receives the summary data to plot alongside with a context object to store the current interactive state of the visualization. It then draws the explanatory chart using the internal generic AppChart class (code in /js/AppChart.js) which in turn uses the d3.js framework. &lt;app-stories&gt; receives the stories data and shows a story box with selectable stories. It also shares a context object together with the chart component to be able to update the interactive state of the chart in case the user selects a certain story that requires a certain area of the visualization to be highlighted. &lt;app-dropdown&gt; is a generic component that displays a dropdown menu and lets a user select one or more values (configurable) from a list; it can synchronize the chosen value with a customizable target location. Exploratory View For &lt;ng-view&gt;, &lt;app-dropdown&gt; and &lt;app-stories&gt; see above. &lt;app-schematics&gt; displays the battery schematic SVG file and takes care that any dynamic regions in that SVG element are updated as other values of the metric graphs are selected. This is achieved using the app-series directive. app-series is a directive that can be annotated to any SVG element inside of the schematic SVG. These annotations make fill color, text or display status of the SVG elements dynamic. &lt;app-metrics&gt; acts as a container for multiple linked metric-graphs and takes care that certain values, like x-axis range are changed compoundly. &lt;app-metric&gt;, similar to &lt;app-summary&gt; above, this component uses the AppChart class and d3.js to draw the data values it is supplied with. The main difference is the graph type (line instead of scatter) and some additional interactivity in order to link together interactively the metric graph and the battery schematic. × Search results Close "},"tutorial-5ComponentsInteraction.html":{"id":"tutorial-5ComponentsInteraction.html","title":"Tutorial: Interaction of the Components","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Interaction of the Components In order to make different AngularJS components interact (see Page about Components) AngularJS supports the concept of centralized &quot;scopes&quot;, essentially shared variables that hold the applications state. Those scopes may be nested with directives/components having &quot;isolated&quot; scopes, but to understand the component interaction in our application, we have to look into the &quot;top&quot; scope of our application. Objects in Top Scope In the top scope, the following variables are used to govern the applications state. Those variables are handed over as references to the various components. The components then either update the variables on user input or listen to changes of the variables and update their presentation layer accordingly. scenarios - an array of Scenario objects taken directly from the /data/scenarios.json file (see JSON Class Structure of Data Files). selectedScenario - the scenario that has been selected from the dropdown menu, an element of the scenarios array - undefined if no scenario is selected. The following metrics are all set to undefined if no scenario is selected at this moment: metrics - an array of Metric objects taken directly from the /data/scenario-&lt;scenarioId&gt;.json file (see JSON Class Structure of Data Files). selectedMetrics - an array of metrics that has been selected from the dropdown menu, a subset of the elements of the metrics array stories - an array of Story objects taken directly from the /data/scenario-&lt;scenarioId&gt;-stories.json file (see JSON Class Structure of Data Files) or undefined if no stories-file is available. selectedStory - the currently selected story, an element of the stories object, undefined if no story is selected. The main &quot;magic&quot; however lies in the highlights object which governs the current highlighting &amp; interaction state of the visualization. This object is tied almost to all components on the page and serves as a central model about how the user currently interacts with the data: metric (string) references the metric-ID of the metric chart the user currently hovers over seriesId (string) references the series-ID of the data series the user currently hovers over; hovering over a data series also &quot;boldens&quot; the respective representation in the schematics SVG x, y (both float) contains the x and y value of the current position of the mouse inside one of the metric charts xRange (pair of floats) contains the min-x and max-x values of all metric charts seriesesValues (array of value objects) contains an array of all datapoints of all metrics and series(es) that correspond to the current x-position of the mouse. How these values are transferred into the schematics component is explained below. Every value in this array contains one datapoint from one series and has the following properties: x, y (float) - x and y coordinate colorVal (string) - in case a data-color-mapping was defined for the metric, the color corresponding to the x value color (string) - in case a color was defined for the series, this exact color seriesId (string) - the id of the series object from which this data value originates looseness (int) - defines how rigidly the user currently follows the &quot;story&quot; (guided tour) and, by that means, defines if the story box is displayed, if buttons to re-center the graph are displayed etc. There are different levels of &quot;exploartiveness&quot; the user can be in during the visualization and the value to which &quot;looseness&quot; is set captures that. See the next section for a detailed definition. Definition of &quot;looseness&quot;The highlights.looseness state defines how independently from the linear story narrative the user interacts with the graph. The value controls which elements need to be displayed on the page: Should we show an explanatory text? Or hiding the story, providing more whitespace instead and just adding a button to return to the story be more appropriate? There are 4 different &quot;levels of looseness / explorativeness&quot; which all slightly modify the UI in order to adapt to the users behaviour and needs. Those levels are described below. Image highlights.looseness Description 0 story telling mode, user is presented with a narrative, a point in the graph (focus) may be highlighted (depending on the story configuration) 1 user has started moving their mouse through graph, the user can return to the focussed mode (looseness = 0) by clicking the &quot;highlight point&quot; button. 2 explorative mode - user has selected a second metric, the storybox is completely hidden from view since the content of the narrative does probably not align anymore with the visualization. Clicking „Return to Guided Tour“ sets looseness back to 1. 3 User has &quot;completely gone off on their own&quot; by zooming / panning inside of the graph; an additional „re-fit to view button is shown to set looseness back to 3. Communication of Schematics and Metric GraphsThe highlights.seriesesValues property captures all the values that are currently selected based on the x-coordinate of the mouse. Those values are watched over by the battery schematics SVG graph which uses the values to dynamically update fill color, text, display status etc. of some of their elements. Communication of those values to the different elements occurs via so-called Angular broadcasts. The following picture shows the inner workings of this mechanism in more technical detail. Hovering the mouse over a data point will trigger, via the AppChart’s event functions, the central &quot;highlights.seriesesValues&quot; object to be modified. The seriesesValue will be filled by every series in every metric chart with the value at the current x-position. Via an AngularJS-watcher, the schematics component will notice this change and broadcast an angular event to all &quot;series directives&quot; annotated to the containing SVG graphic... … these &quot;series directives&quot; can be annotated via SVG drawing programs like InkScape to SVG elements. They define how those elements are manipulated when a new set of seriesesValues is populated. I.e., those directives define from which data series those elements receive their text, display status, fill color, etc. Above, you can see an example of a shape being decorated with the series directive {fill:'temp_mean'} in the program InkScape. This will apply the mapped color of the mean temperature series to the fill color of the shape. The benefit of this rather convoluted design is that an average user of standard vector programs may design or modify the SVG drawings functionality quite easily. × Search results Close "},"tutorial-6LayersAppChart.html":{"id":"tutorial-6LayersAppChart.html","title":"Tutorial: Layers in the AppChart D3.js Graph","body":" DAND6 JSDoc Modules AppChartAppChartControllerAppChartPanelAppConfiguratorAppConstantsAppDropdownDirectiveAppExplainControllerAppHelperAppMainControllerAppMetricDirectiveAppMetricsDirectiveAppRoutesDirectiveAppSchematicsDirectiveAppSeriesDirectiveAppStoriesDirectivesAppTranscopeDirective Classes AppChartController~AppChartControllerAppChartPanel~AppSummaryDirectiveAppChart~AppChartAppChart~AppGraphStrategyAppChart~AppLineGraphAppChart~AppScatterGraphAppConfigurator~AppConfiguratorAppDropdownDirective~AppDropdownControllerAppDropdownDirective~AppDropdownDirectiveAppExplainController~AppExplainControllerAppExplainController~AppExploreControllerAppHelper~AppHelperAppMainController~AppMainControllerAppMetricDirective~AppMetricControllerAppMetricDirective~AppMetricDirectiveAppMetricsDirective~AppMetricsControllerAppMetricsDirective~AppMetricsDirectiveAppRoutesDirective~AppRoutesControllerAppRoutesDirective~AppRoutesDirectiveAppSchematicsDirective~AppSchematicsControllerAppSchematicsDirective~AppSchematicsDirectiveAppSeriesDirective~AppSeriesClassManipulatorAppSeriesDirective~AppSeriesColorManipulatorAppSeriesDirective~AppSeriesControllerAppSeriesDirective~AppSeriesDimensionManipulatorAppSeriesDirective~AppSeriesDirectiveAppSeriesDirective~AppSeriesManipulatorAppSeriesDirective~AppSeriesTextManipulatorAppStoriesDirectives~AppStoriesControllerAppStoriesDirectives~AppStoriesDirectiveAppTranscopeDirective~AppTranscopeDirective Tutorials File &amp; Directory StructureTerminologyJSON Class Structure of Data FilesComponents of the ApplicationInteraction of the ComponentsLayers in the AppChart D3.js Graph Layers in the AppChart D3.js Graph All components of the applications that draw a chart make use of the AppChart class which is the only one that actually issues d3.js code. The AppChart gets one container object and places an inline SVG into it which it then further subdivides into various layers and sub-layers. Each layer is stored in an internal variable of the AppChart object and thusly easily accessible when drawing/updating data. When designing this layer structure, the following problems had to be solved: Zooming and panning worked best when encapsulating everything &quot;movable&quot; in one big sub-SVG, the graph layer. This SVG can then get a viewBox attached allows to clip a window of the graph that is actually to be shown. In order to add interactivity, certain transparent rectangles, in the image shown in yellow, had to be added (for example to be able to catch drag-events on anotherwise empty graph canvas). Attaching classes to the SVG elements allowed for easy CSS-manipulation via the CSS file css/_AppChart.sass. Sometimes those classes are added and removed dynamically, e.g., if certain elements are highlighted by mouseover (e.g. class highlighted). The following picture shows the resulting structure of those layers: × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
